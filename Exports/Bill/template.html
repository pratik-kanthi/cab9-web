<!DOCTYPE html><html ng-app="cab9.export"><head>    <title>Bill Receipt</title>    <link href="../common/css/style.min.css" rel="stylesheet" />    <style>    tr {        page-break-inside: avoid !important;        page-break-before: always !important;    }    tbody td {        border-right: 1px dashed #ddd;        vertical-align: top !important;    }    tbody td:last-child {        border-right: 0 !important;    }    thead th {        border: 0 !important;        border-top: 1px solid #ddd !important;        border-bottom: 2px solid #ddd !important;    }    </style>    <script type="text/javascript">    //setting up headers and footers for html2pdf    var html2pdf = {        footer: {            height: "0.8cm",            contents: '<div class="text-center t-s" style="font-size:12px; text-align: center; background-color: #fff; margin: 0 -20px;">This Bill doesnot include VAT<br />e9ine</div>'        }    };    </script></head><body ng-controller="BillReceiptController" id="invoice">    <div class="container text-center" ng-if="!paymentId || !token || error">        Error Fetching Bill    </div>    <div class="container" ng-if="paymentId && token">        <div class="row mt30" id="company-information">            <div class="col-xs-2">                <img ng-src="{{getImageUrl(payment.Driver.ImageUrl, payment.Driver.Callsign)}}" alt="" class="company-logo" />            </div>            <div class="col-xs-4">                <h4>{{(payment.Driver.Firstname+' '+payment.Driver.Surname)}}</h4>                <small ng-bind="getAddressSummary(payment.Driver)"></small>                <br />                <small ng-bind="payment.Driver.Mobile"></small>                <br />                <small ng-bind="payment.Driver.Email"></small>            </div>            <div class="col-xs-6 text-right pt20">                <h2 class="upper">Bill</h2>            </div>        </div>        <div class="row mt50">            <div class="col-xs-6">                For the attention of:                <br />                <br />                <span class="bold" ng-bind="company.Name"></span>                <p ng-bind="getAddressSummary(company)"></p>                <span>P: {{company.Phone}}</span>                <br />                <span>W: {{company.Website}}</span>            </div>            <div class="col-xs-6 text-right">                <div class="mb20">                    <strong class="upper brand-primary">Bill Ref</strong>                    <br />{{payment.Bill.Reference}}                </div>                <div class="mb20">                    <strong class="upper brand-primary">Created On</strong>                    <br />{{payment.Bill.CreationTime}}                </div>                <div class="mb20">                    <strong class="upper brand-primary">Due Date</strong>                    <br />{{payment.Bill.DueDate}}                </div>            </div>        </div>        <div class="invoice-table" style="overflow:visible;">            <span class="bold brand-primary upper">Bill Summary</span>            <table class="mt20 invoice-summary">                <tbody>                    <tr>                        <td>                            Bookings                            <br /><small>Total value of bookings</small>                        </td>                        <td class="text-right">                            {{currency}}{{calculateBookingsValue()}}                        </td>                    </tr>                    <tr>                        <td>                            VAT                        </td>                        <td class="text-right">                            {{currency}}{{payment.Bill.TaxAmount}}                        </td>                    </tr>                </tbody>                <tfoot>                    <tr>                        <td>                            Total                        </td>                        <td class="text-right">                            {{currency}}{{payment.Bill.TotalAmount}}                        </td>                    </tr>                    <tr>                        <td>                            Paid                        </td>                        <td class="text-right">                            {{currency}}{{calculatePaidAmount(payment.Bill)}}                        </td>                    </tr>                    <tr>                        <td>                            Total Due                        </td>                        <td class="text-right">                            {{currency}}{{(payment.Bill.TotalAmount - calculatePaidAmount(payment.Bill))}}                        </td>                    </tr>                </tfoot>            </table>        </div>        <div class="invoice-table mt20" style="overflow:visible;page-break-before: always;">            <span class="bold brand-primary upper">Bill Details</span>            <table class="mt20 table table-hover table-condensed bookings-table">                <thead style="display:table-header-group;">                    <tr>                        <th style="width:15%">Item</th>                        <th style="width:42%">Description</th>                        <th style="width:10%" class="text-right">Commission</th>                        <th style="width:10%" class="text-right">Price</th>                        <th style="width:10%" class="text-right">Tax</th>                        <th style="width:13%" class="text-right">Cost</th>                    </tr>                </thead>                <tbody>                    <tr ng-repeat="booking in BillBookings | orderBy:'BookedDateTime'" ng-init="booking.Price = 0">                        <td>                            <strong>#{{booking.LocalId}}</strong>                            <br />{{booking.FormattedDate}} {{booking.FormattedTime}}                        </td>                        <td style="overflow:hidden;">                            <strong>Pax: </strong>{{(booking.LeadPassenger.Firstname+' '+booking.LeadPassenger.Surname)}}                            <br />                            <strong>From: </strong>{{getFromSummary(booking.BookingStops)}}                            <br />                            <strong>To: </strong>{{getToSummary(booking.BookingStops)}}                            <br/>                            <strong>Fare: </strong>{{currency}}{{booking.ActualCost}}                        </td>                        <td class="text-right">                            <span>{{(booking.VehicleId && booking.Vehicle.DriverId == booking.DriverId) ? (payment.PaymentModel.OwnCarCommission) : (payment.PaymentModel.CompanyCarCommission)}}%</span>                        </td>                        <td class="text-right">                            <span>{{currency}}{{booking.DriverCost}}</span>                        </td>                        <td class="text-right">                            <span>0.00%</span>                        </td>                        <td class="text-right">                            {{currency}}{{booking.DriverCost}}                        </td>                    </tr>                    <tr>                        <td colspan="5" class="text-right">                            <strong>Sub Total </strong>                        </td>                        <td class="text-right">                            <span>{{currency}}{{payment.Bill.SubTotal}}</span>                        </td>                    </tr>                    <tr>                        <td colspan="5" class="text-right">                            <strong>Tax Amount </strong>                        </td>                        <td class="text-right">                            <span>{{currency}}{{payment.Bill.TaxAmount}}</span>                        </td>                    </tr>                    <tr>                        <td colspan="5" class="text-right">                            <h6 class="grey">Total</h6>                        </td>                        <td class="text-right">                            <h6 class="grey">{{currency}}{{payment.Bill.TotalAmount}}</h6>                        </td>                    </tr>                    <tr>                        <td colspan="5" class="text-right">                            <h6 class="grey">Paid</h6>                        </td>                        <td class="text-right">                            <h6 class="grey">{{currency}}{{calculatePaidAmount(payment.Bill)}}</h6>                        </td>                    </tr>                    <tr>                        <td colspan="5" class="text-right">                            <h6 class="grey">Outstanding Amount</h6>                        </td>                        <td class="text-right">                            <h6 class="grey">{{currency}}{{(payment.Bill.TotalAmount - calculatePaidAmount(payment.Bill))}}</h6>                        </td>                    </tr>            </table>        </div>    </div><!-- build:exports --><script src="/Exports/common/jquery/jquery.min.js"></script><script src="/Exports/common/bootstrap/js/bootstrap.min.js"></script><script src="/Exports/common/angular/angular.min.js"></script><script src="/Exports/common/moment/moment.js"></script><script src="/Exports/common/moment-timezone/builds/moment-timezone-with-data.js"></script><script src="/Exports/common/angular-dynamic-locale/src/tmhDynamicLocale.js"></script><script src="/Exports/common.js"></script><!-- endbuild --></body></html>