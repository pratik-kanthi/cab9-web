!function(n){function o(){}var a=n.module("cab9.models",[]);a.config(o)}(angular);;;;
!function(t){function e(t){t.registerSchema("AuditRecord","api/Audit",{Id:{type:String,editable:!1,hidden:!0},EntityType:{type:String},EntityId:{type:String},EntityName:{type:String},EntityDescription:{type:String},Timestamp:{type:moment},UserId:{type:String},User:{type:"User"},Action:{type:String},Properties:{type:["AuditPropertyRecord"]},BookingEvent:{type:String}}),t.registerSchema("AuditPropertyRecord","api/AuditPropertyRecords",{Id:{type:String,editable:!1,hidden:!0},PropertyName:{type:String},PropertyType:{type:String},OldValue:{type:String},NewValue:{type:String},AuditRecordId:{type:moment},AuditRecord:{type:"AuditRecord"}})}var i=t.module("cab9.models");i.config(e),e.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Bill","api/bill",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},DriverId:{type:String,displayField:"Driver._Fullname",table:{hidden:!0},display:"Driver"},Driver:{type:["Driver"],ref:"Driver",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},ReceivedDate:{type:moment,display:"Received Date",displayFilters:" | companyDate:'DD/MM/YYYY'"},DueDate:{type:moment,display:"Due Date",displayFilters:" | companyDate:'DD/MM/YYYY'"},Reference:{type:String},Notes:{type:String},Discount:{type:Number},BookingsSubTotal:{type:Number,table:{visible:!1}},BookingsTaxAmount:{type:Number,table:{visible:!1}},ExtrasSubTotal:{type:Number,table:{visible:!1}},ExtrasTaxAmount:{type:Number,table:{visible:!1}},WaitingSubTotal:{type:Number,table:{visible:!1}},WaitingTaxAmount:{type:Number,table:{visible:!1}},AdjustmentsSubTotal:{type:Number,table:{visible:!1}},AdjustmentsTaxAmount:{type:Number,table:{visible:!1}},DiscountTotal:{type:Number,table:{visible:!1}},SubTotal:{type:Number,table:{visible:!1}},TaxAmount:{type:Number,table:{visible:!1}},TotalAmount:{type:Number,table:{visible:!1}},PaymentsTotal:{type:Number,table:{visible:!1}},BillPayments:{type:["BillPayment"],ref:"BillPayment",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("BillPayment","api/BillPayments",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},BillId:{type:String,displayField:"Bill.Reference",table:{hidden:!0},display:"Invoice"},Bill:{type:"Bill",ref:"Bill",refBy:"BillId",table:{hidden:!0}},Amount:{type:Number,display:"Amount Paid",binding:function(e){return currencyIcon+e.Amount.toFixed(2)}},Reference:{type:String},PaymentType:{type:String,"enum":["Cheque","Cash","BankTransfer","CardPayment","Other"]},PaymentDate:{type:moment,display:"Payment Date",required:!0,displayFilters:" | companyDate:'DD/MM/YYYY'"},CreationTime:{type:moment,display:"Creation Date",displayFilters:" | companyDate:'DD/MM/YYYY'"},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Booking","api/bookings",{Id:{type:String,editable:!1,hidden:!0},LocalId:{type:Number,editable:!1},TenantId:{type:String,editable:!1,hidden:!0},Locked:{type:Boolean,hidden:!0},LockedById:{type:String,hidden:!0},HasEdits:{type:Boolean,hidden:!0},FinanceValidated:{type:Boolean,hidden:!0},DriverAck:{type:Boolean,hidden:!0},BookingStatus:{type:String,"enum":["Rejected","Unconfirmed","Cancelled","Incoming","PreAllocated","Offered","Allocated","OnRoute","Arrived","InProgress","Clearing","Completed"]},BookingSource:{type:String,"enum":["APP","WEB","PHONE","OTHER","ONETRANSPORT","CLIENT_PORTAL","IMPORTED","MORGAN_STANLEY","INFI9NITY","GROUNDSCOPE","HEREMaps","GETT","CITYFLEET"]},NextStop:{type:Number},BookedDateTime:{type:moment,required:!1,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},CreationTime:{type:moment,display:"Creation Date",displayFilters:" | companyDate:'DD/MM/YYYY'"},DriverOnRouteDateTime:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},DriverArrivedDateTime:{type:moment,required:!1,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},POBDateTime:{type:moment,required:!1,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},JobClearDateTime:{type:moment,required:!1,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},ClientId:{type:String,required:!1,displayField:"Client.Name",table:{hidden:!0}},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},ClientStaffId:{type:String,required:!1,displayField:"ClientStaff.Name",table:{hidden:!0}},ClientStaff:{type:"ClientStaff",ref:"ClientStaff",refBy:"ClientStaffId",table:{hidden:!0}},DriverBids:{type:["DriverBid"],table:{hidden:!0}},VehicleTypeId:{type:String,required:!0,table:{hidden:!0}},VehicleClassId:{type:String,table:{hidden:!0}},VehicleType:{type:"VehicleType",ref:"VehicleType",refBy:"VehicleTypeId",table:{hidden:!0}},Pax:{type:Number,table:{hidden:!0},required:!0,min:1,display:"Max. Passengers"},FlightInfoId:{type:String,required:!1,table:{hidden:!0}},FlightInfo:{type:"FlightInfo",ref:"FlightInfo",refBy:"FlightInfoId",table:{hidden:!0}},Bax:{type:Number,table:{hidden:!0},required:!0,min:0,display:"Max. Baggage"},FlightNo:{type:String,table:{visible:!1}},AsDirected:{type:Boolean,table:{hidden:!0}},WaitAndReturn:{type:Boolean,table:{hidden:!0}},CabShare:{type:Boolean,table:{hidden:!0}},LeadPassengerId:{type:String,required:!1,displayField:"LeadPassenger._Fullname",table:{hidden:!0}},LeadPassenger:{type:"Passenger",ref:"Passenger",refBy:"LeadPassengerId",table:{hidden:!0}},DriverId:{type:String,required:!1,displayField:"_DriverSummary",table:{hidden:!0}},Driver:{type:"Driver",ref:"Driver",refBy:"DriverId",table:{hidden:!0}},VehicleId:{type:String,required:!1,displayField:"_VehicleSummary",table:{hidden:!0}},Vehicle:{type:"Vehicle",ref:"Vehicle",refBy:"VehicleId",table:{hidden:!0}},PartnerId:{type:String,required:!1,table:{hidden:!0}},PartnerBookingStatus:{type:String,required:!1,table:{hidden:!0}},Partner:{type:"Partner",ref:"Partner",refBy:"PartnerId",table:{hidden:!0}},PartnerDriverId:{type:String,required:!1,table:{hidden:!0}},PartnerDriver:{type:"PartnerDriver",ref:"PartnerDriver",refBy:"PartnerDriverId",table:{hidden:!0}},PartnerVehicleId:{type:String,required:!1,table:{hidden:!0}},PartnerVehicle:{type:"PartnerVehicle",ref:"PartnerVehicle",refBy:"PartnerVehicleId",table:{hidden:!0}},PartnerRef:{type:String,required:!1,table:{hidden:!0}},EncodedRoute:{type:String},PassengerNotes:{type:String,table:{visible:!1}},PassengerNotificationPhone:{type:"Phone",table:{visible:!1}},DriverNotes:{type:String,table:{visible:!1}},OfficeNotes:{type:String,table:{visible:!1}},JobCron:{type:String},AutoDispatch:{type:Boolean,table:{visible:!1}},DispatchDateTime:{type:moment,required:!1,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},EstimatedDistance:{type:Number,table:{hidden:!0}},EstimatedDuration:{type:Number,table:{hidden:!0}},EstimatedCost:{type:Number,prepend:{text:"{{symbol || current.Prepend}}"},table:{hidden:!0}},ActualRoute:{type:String,table:{hidden:!0}},ActualCost:{type:Number,table:{hidden:!0},prepend:{text:"{{symbol || current.Prepend}}"}},Adjustments:{type:["ClientInvoiceAdjustment"],table:{hidden:!0}},DriverCost:{type:Number,table:{hidden:!0},prepend:{text:"{{symbol || current.Prepend}}"}},InvoiceCost:{type:Number,table:{hidden:!0},prepend:{text:"{{symbol || current.Prepend}}"}},AdjustmentTotal:{type:Number,table:{hidden:!0},prepend:{text:"{{symbol || current.Prepend}}"}},Coupon:{type:String},InvoiceId:{type:String,table:{hidden:!0}},Invoice:{type:"Invoice",table:{hidden:!0}},Date:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'"},Time:{type:String,inputType:"time",displayField:"_Time",table:{hidden:!0}},ImageUrl:{type:String,table:{hidden:!0}},PassengerSignatureImageUrl:{type:String,table:{hidden:!0}},Priority:{type:Number,min:1,max:5,table:{hidden:!0}},PricingModelId:{type:String},ChauffeurMode:{type:Boolean},EstimatedMins:{type:Number,table:{hidden:!0}},ActualMins:{type:Number,table:{hidden:!0}},ActualDistance:{type:Number,table:{hidden:!0}},WaitingCost:{type:Number},WaitingTime:{type:Number},ExtrasCost:{type:Number},PassengerScore:{type:Number},DriverScore:{type:Number},DriverCommission:{type:Number},CompanyCommission:{type:Number},DriverCommissionTax:{type:Number},CompanyCommissionTax:{type:Number},JourneyCommission:{type:Number},ExtrasCommission:{type:Number},DriverAdjustmentTotal:{type:Number},DriverAdjustmentTax:{type:Number},WaitingCommission:{type:Number},CompanyWaitingCommission:{type:Number},DriverInvoiceId:{type:String},DriverBillId:{type:String},GroundscopeReference:{type:String},ManualCommission:{type:Number},_ImageUrl:{type:String,hidden:!0,calculated:function(){if(this.ImageUrl)return"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl;var e=$config.GMAPS_STATIC_URL+"&markers="+encodeURIComponent("shadow:false|scale:2|icon:http://d1a3f4spazzrp4.cloudfront.net/receipt-new/marker-start@2x.png|"+(this._FromCoords||this._FromSummary))+"&markers="+encodeURIComponent("shadow:false|scale:2|icon:http://d1a3f4spazzrp4.cloudfront.net/receipt-new/marker-finish@2x.png|"+(this._ToCoords||this._ToSummary))+"&key="+window.googleMapsKey;return e}},_PassengerSignatureImageUrl:{type:String,hidden:!0,calculated:function(){if(this.PassengerSignatureImageUrl)return"http"==this.PassengerSignatureImageUrl.slice(0,4)?this.PassengerSignatureImageUrl:window.resourceEndpoint+this.PassengerSignatureImageUrl}},_Time:{type:String,calculated:function(){return new moment(this.Time).format("HH:mm")},table:{hidden:!0}},_LeadPassenger:{type:String,table:{hidden:!0}},_LeadPassengerNumber:{type:String,table:{hidden:!0}},_LeadPassengerEmail:{type:String,table:{hidden:!0}},BookingTags:{type:["BookingTag"],ref:"BookingTag",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},Tags:{type:["Tag"],ref:"Tag",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},Passengers:{type:["Passenger"],ref:"Passenger",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},BookingStops:{type:["BookingStop"],ref:"BookingStop",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},Reference:{type:String},Dispute:{type:Boolean},BookingValidations:{type:["BookingValidation"],ref:"BookingValidation",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},Conversations:{type:["Conversation"],ref:"Conversation",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},Notifications:{type:[],defaultValue:[],table:{hidden:!0}},BookingRequirements:{type:["BookingRequirement"],ref:"BookingRequirement",refType:"ManyToMany",defaultValue:[],table:{hidden:!0}},_FromCoords:{type:String,calculated:function(){if(this.BookingStops&&this.BookingStops.length){var e=this.BookingStops[0];if(e.Latitude&&e.Longitude)return e.Latitude+","+e.Longitude}}},_ToCoords:{type:String,calculated:function(){if(this.BookingStops&&this.BookingStops.length){var e=this.BookingStops[this.BookingStops.length-1];if(e.Latitude&&e.Longitude)return e.Latitude+","+e.Longitude}}},_FromSummary:{type:String,calculated:function(){if(this.BookingStops&&this.BookingStops.length){var e=this.BookingStops[0],t=(this.BookingStops[this.BookingStops.length-1],"");return e.StopSummary&&e.StopSummary.length>0?t=e.StopSummary:(e.Address1&&e.Address1.length>0&&(t+=e.Address1),e.TownCity&&e.TownCity.length>0?(t.trim().length>0&&(t+=", "),t+=e.TownCity):e.Area&&e.Area.length>0&&(t.trim().length>0&&(t+=", "),t+=e.Area),e.County&&0==t.length&&e.County.length>0&&(t+=e.County),e.Postcode&&e.Postcode.length>0&&(t.trim().length>0&&(t+=", "),t+=e.Postcode)),t}}},_ToSummary:{type:String,calculated:function(){if(this.BookingStops&&this.BookingStops.length){if(this.BookingStops.length>1){var e=this.BookingStops[this.BookingStops.length-1],t="";return e.StopSummary?t=e.StopSummary:(e.Address1&&e.Address1.length>0&&(t+=e.Address1),e.TownCity&&e.TownCity.length>0?(t.length>0&&(t+=", "),t+=e.TownCity):e.Area&&e.Area.length>0&&(t.length>0&&(t+=", "),t+=e.Area),e.County&&0==t.length&&e.County.length>0&&(t+=e.County),e.Postcode&&e.Postcode.length>0&&(t.length>0&&(t+=", "),t+=e.Postcode)),t}return"As Directed"}return"As Directed"}},_JourneySummary:{type:String,calculated:function(){if(!this.BookingStops)return"Invalid Stops";var e=[];for(i=0;i<this.BookingStops.length;i++){var t=[],n=this.BookingStops[i];["TUBESTATION","AIRPORT"].indexOf(n.LocationType)>-1?n.Address1&&n.Address1.length>0&&" "!=n.Address1?t.push(n.Address1):n.Address2&&n.Address2.length>0&&t.push(n.Address2):n.TownCity&&n.TownCity.length>0&&n.TownCity.toLowerCase().indexOf("london")!=-1?n.Postcode&&n.Postcode.length>0&&t.push(n.Postcode):(n.Address1&&n.Address1.length>0&&t.push(n.Address1),0==t.length&&n.TownCity&&n.TownCity.length>0&&t.push(n.TownCity),n.Postcode&&n.Postcode.length>0&&t.push(n.Postcode)),0==t.length&&t.push(n.StopSummary),e.push(t.join(", "))}return 1==this.BookingStops.length&&e.push("As Directed"),e.join(" - ")}},_ClientName:{type:String,display:"Client",calculated:function(){return this.Client&&this.Client.Name}},_VehicleReg:{type:String,display:"Vehicle",calculated:function(){return this.Vehicle&&this.Vehicle.Registration}},_DriverSummary:{type:String,display:"Driver",calculated:function(){return this.Driver&&this.Driver.Firstname+" "+this.Driver.Surname+" ("+this.Driver.Callsign+")"}},_VehicleSummary:{type:String,display:"Vehicle",calculated:function(){return this.Vehicle&&this.Vehicle.Colour+" "+this.Vehicle.Make+" "+this.Vehicle.Model+" ("+this.Vehicle.Registration+")"}},_LeadPassengerName:{type:String,display:"Lead Passenger",calculated:function(){if(this.LeadPassenger)return this.LeadPassenger.Firstname+" "+this.LeadPassenger.Surname}},_WaitTime:{type:Number,calculated:function(){var e=0;if(this.BookingStops)for(var t=0;t<this.BookingStops.length;t++)t.WaitTime&&(e+=t.WaitTime);return e}},_WaitTimeCharges:{type:Number,calculated:function(){var e=0;return this.BookingStops&&(e=this.BookingStops[0]&&this.BookingStops[0].WaitTimeChargable),e}},CurrencyId:{type:String},Currency:{type:"Currency",ref:"Currency",refBy:"CurrencyId"},CurrencyRate:{type:Number},BookingExpense:{type:["BookingExpense"],hidden:!0},TaxId:{type:String,display:"VAT",displayField:"Tax.Name",required:!0},Tax:{type:"Tax",ref:"Tax",refBy:"TaxId"},Discount:{type:Number,append:{text:"%",click:"discount.type = 'percent';"},prepend:{text:"{{symbol || current.Prepend}}",click:"discount.type = 'amount';"}},DriverPaymentId:{type:String,display:"Driver Payment"},DriverPayment:{type:"DriverPayment",ref:"DriverPayment",refBy:"DriverPaymentId"},PaymentMethod:{type:String,defaultValue:"OnAccount","enum":["Cash","Card","OnAccount","Other"]},InfinityReference:{type:String,visible:!1},OneTransportReference:{type:String,visible:!1},CityFleetReference:{type:String,visible:!1},OneTransportVendorReference:{type:String,visible:!1},OneTransportStatus:{type:String,visible:!1,"enum":["Unconfirmed","TimedOut","Rejected","HandedBack","AutoAccepted","Accepted"]},OneTransportReceived:{type:String,visible:!1},CallOnArrival:{type:Boolean,defaultValue:!1},TextOnArrival:{type:Boolean,defaultValue:!0},TextConfirmation:{type:Boolean,defaultValue:!0},EmailConfirmation:{type:Boolean,defaultValue:!0},TextAssigned:{type:Boolean,defaultValue:!1},EmailAssigned:{type:Boolean,defaultValue:!1},TextOnCompletion:{type:Boolean,defaultValue:!0},TextOnOnRoute:{type:Boolean,defaultValue:!1},BookedDateTimeEdit:{type:moment,required:!1,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{hidden:!0}},TimeEdit:{type:String,inputType:"time",displayField:"_Time",table:{hidden:!0}},DriverExclusions:{type:Number,table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},CreationUser:{type:"User"},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},PaymentCardId:{type:String,table:{hidden:!0}},CardPaymentStatus:{type:String,"enum":["PreauthTaken","Pending","Success","Failure"]},PaymentCard:{type:"PaymentCard",ref:"PaymentCard",refBy:"PaymentCardId",table:{hidden:!0}}})}var n=e.module("cab9.models");n.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("RepeatBooking","",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Label:{type:String},EndDate:{type:moment},DaysOfWeek:{type:Number},BookingsAttached:{type:String},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("BookingExpense","api/BookingExpenses",{Id:{type:String},TenantId:{type:String},BookingId:{type:String},Booking:{type:"Booking"},BookingExpenseTypeId:{type:String,required:!0,display:"Expense Type"},BookingExpenseType:{type:"BookingExpenseType"},Note:{type:String,textarea:3},Amount:{type:Number,required:!0},DriverAmount:{type:Number},TaxId:{type:String,required:!0,display:"Tax"},Tax:{type:"Tax"},Approved:{type:Boolean,display:"Approved?",defaultValue:!0},PayToDriver:{type:Boolean,display:"Reimburse Driver?",defaultValue:!0}}),e.registerSchema("BookingExpenseType","api/BookingExpenseTypes",{Id:{type:String},TenantId:{type:String},Name:{type:String},AvailableToDriver:{type:Boolean},TaxId:{type:String,required:!0,display:"Tax"},Tax:{type:"Tax",table:{hidden:!0}},_Tax:{type:String,calculated:function(){return this.Tax?this.Tax.Name:"-"},display:"Tax"},Description:{type:String,textarea:3}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("BookingOffer","api/BookingOffers",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},BookingId:{type:String},DriverId:{type:String},Expires:{type:moment},ReadTime:{type:moment},ResponseTime:{type:moment},Accepted:{type:Boolean},RejectReason:{type:String},Attempts:{type:Number},Status:{type:String,"enum":["Sent","Received","Read","Accepted","Rejected"]},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("BookingRequirement","api/bookingrequirements",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String},Bookings:{type:["Booking"],ref:"Booking",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},OTCode:{type:String,hidden:!0},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var n=e.module("cab9.models");n.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("PassengerStop","api/PassengerStop",{Id:{type:String},TenantId:{type:String},PassengerId:{type:String},Passenger:{type:"Passenger"},BookingStopId:{type:String},BookingStop:{type:"BookingStop"},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}}),e.registerSchema("BookingStop","api/bookingstops",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},StopSummary:{type:String},Type:{type:String,"enum":["PickUp","Via","StopAndWait","DropOff"]},LocationType:{type:String,"enum":["TRAINSTATION","TUBESTATION","AIRPORT","OFFICE","OTHER"]},StopOrder:{type:Number,required:!1},WaitTime:{type:Number,required:!1},WaitTimeChargable:{type:Number,required:!1},Address1:{type:String,required:!0,table:{hidden:!0}},Address2:{type:String,required:!0,table:{hidden:!0}},Area:{type:String,required:!0,table:{hidden:!0}},TownCity:{type:String,required:!0,table:{hidden:!0}},County:{type:String,required:!0,table:{hidden:!0}},Postcode:{type:String,required:!0,table:{hidden:!0}},Country:{type:String,required:!0,table:{hidden:!0}},_FullAddress:{type:String,calculated:function(){var e="";return e+=this.Address1?this.Address1+"\n":"",e+=this.Address2?this.Address2+"\n":"",e+=this.Area?this.Area+"\n":"",e+=this.TownCity?this.TownCity+"\n":"",e+=this.Postcode?this.Postcode+"\n":"",e+=this.County?this.County+"\n":"",e+=this.Country?this.Country:""},display:"Full Address"},Latitude:{type:Number,required:!1},Longitude:{type:Number,required:!1},latitude:{type:Number,calculated:function(){return this.Latitude}},longitude:{type:Number,calculated:function(){return this.Longitude}},Note:{type:String},BookingId:{type:String,required:!0,displayField:"Booking.Id",table:{hidden:!0}},Booking:{type:"Booking",ref:"Booking",refBy:"BookingId",table:{hidden:!0}},PassengerStops:{type:["PassengerStop"],defaultValue:[],table:{hidden:!0}},_WaitingTimeCharges:{type:Number,calculated:function(){return this.WaitTimeChargable&&this.WaitTime?this.WaitTimeChargable*this.WaitTime:0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("ChangePassword","",{UserName:{type:String,required:!0},CurrentPassword:{type:String,required:!0,inputType:"password"},NewPassword:{type:String,required:!0,inputType:"password"},NewPasswordRepeat:{type:String,required:!0,inputType:"password"},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var r=e.module("cab9.models");r.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("Claim","",{Id:{type:String,editable:!1,hidden:!0},ClaimType:{type:String},ClaimValue:{type:String},UserId:{type:String},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Client","api/clients",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},ClientTypeId:{type:String,required:!0,displayField:"ClientType.Name",table:{hidden:!0}},ClientType:{type:"ClientType",ref:"ClientType",refBy:"ClientTypeId",table:{hidden:!0}},RoutingOption:{type:String},RepId:{type:String,displayField:"Rep.Firstname",table:{hidden:!0}},Rep:{type:"Staff",ref:"Staff",refBy:"RepId",table:{hidden:!0}},Priority:{type:String,required:!0,"enum":["P1","P2","P3","P4","P5"],defaultValue:"P3"},Name:{type:String,required:!0},Address1:{type:String,table:{hidden:!0}},Address2:{type:String,table:{hidden:!0}},Area:{type:String,table:{hidden:!0}},DefaultPaymentType:{type:String,required:!0,"enum":["Cash","Card","OnAccount","Other"],table:{hidden:!0}},AllowedPaymentTypes:{type:String,table:{hidden:!0}},TownCity:{type:String,display:"Town/City",table:{visible:!1}},County:{type:String,table:{hidden:!0}},Postcode:{type:String,table:{hidden:!0}},Country:{type:String,table:{hidden:!0}},Latitude:{type:Number,table:{hidden:!0}},Longitude:{type:Number,table:{hidden:!0}},AccountNo:{type:String},OnHold:{type:Boolean,binding:function(e){return 1==e.OnHold?"Yes":0==e.OnHold?"No":""},table:{visible:!1}},AccountPassword:{type:String,table:{hidden:!0}},BannedDrivers:{type:["Driver"],ref:"Driver",refType:"ManyToMany",defaultValue:[],table:{hidden:!0}},BillingLatitude:{type:Number,table:{hidden:!0}},BillingLongitude:{type:Number,table:{hidden:!0}},_FullAddress:{type:String,sort:["Address1","Address2","Area","TownCity","Postcode","County","Country"],reqColumns:["Address1","Address2","Area","TownCity","Postcode","County","Country"],calculated:function(){var e="";return e+=this.Address1?this.Address1+"\n":"",e+=this.Address2?this.Address2+"\n":"",e+=this.Area?this.Area+"\n":"",e+=this.TownCity?this.TownCity+"\n":"",e+=this.Postcode?this.Postcode+"\n":"",e+=this.County?this.County+"\n":"",e+=this.Country?this.Country:""},table:{visible:!1},display:"Full Address"},BillingAddress1:{type:String,table:{hidden:!0},display:"Billing Address1"},BillingAddress2:{type:String,table:{hidden:!0},display:"Billing Address2"},BillingArea:{type:String,table:{hidden:!0},display:"Area"},BillingTownCity:{type:String,table:{hidden:!0},display:"TownCity"},BillingCounty:{type:String,table:{hidden:!0},display:"County"},BillingPostcode:{type:String,table:{hidden:!0},display:"PostCode"},BillingCountry:{type:String,table:{hidden:!0},display:"Country"},_FullBillingAddress:{type:String,calculated:function(){var e="";return e+=this.BillingAddress1?this.BillingAddress1+"\n":"",e+=this.BillingAddress2?this.BillingAddress2+"\n":"",e+=this.BillingArea?this.BillingArea+"\n":"",e+=this.BillingTownCity?this.BillingTownCity+"\n":"",e+=this.BillingPostcode?this.BillingPostcode+"\n":"",e+=this.BillingCounty?this.BillingCounty+"\n":"",e+=this.BillingCountry?this.BillingCountry:""},table:{hidden:!0},display:"Full Billing Address"},PrimaryContact:{type:String,table:{hidden:!0}},Phone:{type:"Phone"},Mobile:{type:"Phone",table:{visible:!1}},Fax:{type:"Phone",table:{visible:!1}},Email:{type:String,table:{visible:!1}},BillingContact:{type:String,table:{visible:!1}},BillingPhone:{type:"Phone",table:{visible:!1}},BillingMobile:{type:"Phone",table:{hidden:!0}},BillingFax:{type:"Phone",table:{hidden:!0}},BillingEmail:{type:String,table:{hidden:!0}},StartDate:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",defaultValue:(new moment).toDate(),table:{visible:!1}},EndDate:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},Active:{type:Boolean,defaultValue:!0,table:{hidden:!0}},ShowPriceInEmail:{type:Boolean,defaultValue:!1,table:{hidden:!0}},AllowCashInPortal:{type:Boolean,defaultValue:!1,table:{hidden:!0}},ShowPriceInPortal:{type:Boolean,defaultValue:!1,table:{hidden:!0}},ImageUrl:{type:String,table:{hidden:!0}},Tags:{type:["Tag"],ref:"Tag",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},ClientReferences:{type:["ClientReference"],ref:"ClientReference",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},Passengers:{type:["Passenger"],ref:"Passenger",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},KnownLocations:{type:["KnownLocation"],ref:"KnownLocation",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},CreationTime:{type:moment,hidden:!0},_ImageUrl:{type:String,hidden:!0,calculated:function(){if(this.ImageUrl)return"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl;var e=this.Name,t=this.Name.indexOf(" ");return t!=-1&&(e=this.Name.substring(0,t)),window.endpoint+"api/imagegen?text="+e}},ScoreOverall:{type:Number,table:{hidden:!0}},ScoreBooking:{type:Number,table:{hidden:!0}},ScoreRevenue:{type:Number,table:{hidden:!0}},DefaultCurrencyId:{type:String,display:"Default Currency",required:!0,table:{hidden:!0}},DefaultCurrency:{type:"Currency",ref:"Currency",refBy:"DefaultCurrencyId",table:{hidden:!0}},AutoInvoice:{type:Boolean,hidden:!0},InvoicePeriod:{type:String,"enum":["Daily","Weekly","BiWeekly","Monthly"],hidden:!0},InvoiceSplitField:{type:String,hidden:!0},InvoiceGroupField:{type:String,hidden:!0},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},CallOnArrival:{type:Boolean,defaultValue:!1},TextOnArrival:{type:Boolean,defaultValue:!0},TextConfirmation:{type:Boolean,defaultValue:!0},EmailConfirmation:{type:Boolean,defaultValue:!0},TextOnCompletion:{type:Boolean,defaultValue:!0},TextOnOnRoute:{type:Boolean,defaultValue:!1},TextAssigned:{type:Boolean,defaultValue:!1},EmailAssigned:{type:Boolean,defaultValue:!1},FreeWaitingTime:{type:Number},FreeWaitingTimeAirport:{type:Number},IsWaitingTimeGrace:{type:Boolean},IsWaitingTimeGraceAirport:{type:Boolean},PricingModelId:{type:String,display:"Default Pricing Model",visible:!1,table:{hidden:!0}},DefaultVehicleTypeId:{type:String,display:"Default Vehicle Type",visible:!1,table:{hidden:!0}},AllVehicleTypeAccess:{type:Boolean,table:{hidden:!0}},AutoDispatch:{type:Boolean,table:{hidden:!0}},VehicleTypes:{type:["VehicleType"],ref:"VehicleType",refType:"ManyToMany",defaultValue:[],table:{hidden:!0}},CancellationRuleId:{type:String,required:!0,table:{hidden:!0}},CancellationRule:{type:"CancellationRule",ref:"CancellationRule",refBy:"CancellationRuleId",table:{hidden:!0}},SignatureRequired:{type:Boolean},ShowVATInPortal:{type:Boolean},DefaultTaxId:{type:String,display:"Default Tax",visible:!1,table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function r(e){e.registerSchema("ClientDispatchSettings","api/ClientDispatchSettings",{Id:{type:String},TenantId:{type:String},ClientId:{type:String},Client:{type:"Client"},PriorityFactor:{type:Number},FIRST_PASS_DISTANCE:{type:Number,required:!0},SECOND_PASS_DISTANCE:{type:Number,required:!0},MAXIMUM_DISTANCE:{type:Number,required:!0},DISTANCE_WEIGHTING:{type:Number,required:!0},DISTANCE_BASE:{type:Number,required:!0},DISTANCE_CAP:{type:Number,required:!0},GREEN_WEIGHTING:{type:Number,required:!0},GREEN_BASE:{type:Number,required:!0},GREEN_CAP:{type:Number,required:!0},FAIRNESS_WEIGHTING:{type:Number,required:!0},FAIRNESS_BASE:{type:Number,required:!0},FAIRNESS_CAP:{type:Number,required:!0},RATING_WEIGHTING:{type:Number,required:!0},RATING_BASE:{type:Number,required:!0},RATING_CAP:{type:Number,required:!0},SwapLevels:{type:Number,required:!0},SwapPriorities:{type:Number,required:!0}})}var t=e.module("cab9.models");t.config(r),r.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("DriverPaymentModelOverride","api/DriverPaymentModelOverrides",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},ClientId:{type:String,displayField:"Client.Name",table:{hidden:!0}},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},VehicleTypeId:{type:String,displayField:"VehicleType.Name",table:{hidden:!0}},PaymentType:{type:String},VehicleType:{type:"VehicleType",ref:"VehicleType",refBy:"VehicleTypeId",table:{hidden:!0}},DriverPaymentModelId:{type:String,displayField:"DriverPaymentModel.Name",table:{hidden:!0}},DriverPaymentModel:{type:"DriverPaymentModel",ref:"DriverPaymentModel",refBy:"DriverPaymentModelId",table:{hidden:!0}},Type:{type:String,"enum":["Commission","Mileage"]},CompanyCarCommision:{type:Number,min:-100,max:100,display:"Company Car Commission"},CompanyCarPerHour:{type:Number},CompanyCarPerBooking:{type:Number},CompanyCarPerMileSteps:{type:String},OwnCarCommision:{type:Number,min:-100,max:100,display:"Own Car Commission"},OwnCarPerHour:{type:Number},OwnCarPerBooking:{type:Number},OwnCarPerMileSteps:{type:String},ChauffeurCommision:{type:Number,min:0,max:100,display:"Chauffeuring Commission"},ChauffeurPerHour:{type:Number,min:0,display:"Chauffeuring Per Hour"},WaitingPerHour:{type:Number},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var r=e.module("cab9.models");r.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){function t(e){if(e){if("number"==typeof e){var t=Math.floor(e/60)<10?"0"+Math.floor(e/60):Math.floor(e/60),e=e%60<10?"0"+e%60:e%60;return t+":"+e}throw{message:"Time is not in correct format. Please check your input and try again."}}return null}e.registerSchema("ClientAdjustment","api/ClientAdjustments",{Id:{type:String,editable:!1,required:!0,validators:[],table:{visible:!1}},TenantId:{type:String,editable:!1,hidden:!0},ClientId:{type:String,required:!0,table:{hidden:!0}},Type:{type:String,required:!0,"enum":["Credit","Debit"]},Amount:{type:Number,required:!0},DaysOfWeek:{type:Number},_StartTime:{type:String,calculated:function(){return t(this.StartTime)},display:"Start Time"},_EndTime:{type:String,calculated:function(){return t(this.EndTime)},display:"End Time"},StartTime:{type:Number,table:{hidden:!0}},EndTime:{type:Number,table:{hidden:!0}},VehicleTypes:{type:String,table:{hidden:!0}},AmountType:{type:String,required:!0,"enum":["Fixed","Percentage"],defaultValue:"Fixed"},AmountPaid:{type:Number},Reference:{type:String},Active:{display:"Active",defaultValue:!0,type:Boolean},Settled:{type:Boolean,required:!1},AppliesToBooking:{type:Boolean,required:!1},Recurring:{type:String,"enum":["OneOff","Recurring"],required:!0,defaultValue:"OneOff"},_Tax:{type:String,calculated:function(){return this.Tax?this.Tax.Name:""},display:"Tax"},ActivateByCode:{type:String},TaxId:{type:String,required:!0,displayField:"Tax.Name",display:"Tax",table:{hidden:!0}},Tax:{type:"Tax",table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("ClientInvoiceAdjustment","api/ClientInvoiceAdjustments",{Id:{type:String,editable:!1,required:!0,validators:[],table:{visible:!1}},BookingId:{type:String},InvoiceId:{type:String,required:!0,table:{hidden:!0}},Invoice:{type:"Invoice",table:{hidden:!0}},ClientAdjustmentId:{type:String,table:{hidden:!0}},ClientAdjustment:{type:"ClientAdjustment",table:{hidden:!0}},ClientPricingModelAdjustmentId:{type:String,table:{hidden:!0}},ClientPricingModelAdjustment:{type:"ClientPricingModelAdjustment",table:{hidden:!0}},Amount:{type:Number,table:{}},TaxAmount:{type:Number,table:{}},Type:{type:String,table:{}}})}var n=e.module("cab9.models");n.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){function t(e){if(e){if("number"==typeof e){var t=Math.floor(e/60)<10?"0"+Math.floor(e/60):Math.floor(e/60),e=e%60<10?"0"+e%60:e%60;return t+":"+e}throw{message:"Time is not in correct format. Please check your input and try again."}}return null}e.registerSchema("ClientPricingModelAdjustment","api/ClientPricingModelAdjustments",{Id:{type:String,editable:!1,required:!0,validators:[],table:{visible:!1}},TenantId:{type:String,editable:!1,hidden:!0},PricingModelId:{type:String,required:!0,table:{hidden:!0}},PricingModel:{type:"PricingModel",table:{hidden:!0}},Type:{type:String,required:!0,"enum":["Credit","Debit"]},Amount:{type:Number},DaysOfWeek:{type:Number},ActivateByCode:{type:String},_StartTime:{type:String,calculated:function(){return t(this.StartTime)},display:"Start Time"},_EndTime:{type:String,calculated:function(){return t(this.EndTime)},display:"End Time"},StartTime:{type:Number,table:{hidden:!0}},EndTime:{type:Number,table:{hidden:!0}},VehicleTypes:{type:String,table:{hidden:!0}},Active:{display:"Active",defaultValue:!0,type:Boolean},AppliesToBooking:{type:Boolean,required:!1},AmountType:{type:String,required:!0,"enum":["Fixed","Percentage"],defaultValue:"Fixed"},Reference:{type:String},TaxId:{type:String,required:!0,table:{hidden:!0}},Tax:{type:"Tax",table:{hidden:!0}},_Tax:{type:String,calculated:function(){return this.Tax?this.Tax.Name:""},display:"Tax"},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function n(e){e.registerSchema("ClientReference","api/clientreferences",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},ClientId:{type:String,displayField:"Client.Name",table:{hidden:!0}},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},ReferenceName:{type:String,required:!0},Mandatory:{type:Boolean},AllowAddToList:{type:Boolean},ShowList:{type:Boolean},ReferenceType:{type:String,"enum":["List","FreeText","Mask"],binding:function(e){return"Mask"==e.ReferenceType&&e.Value?"Mask - "+e.Value:e.ReferenceType}},Value:{type:String,hidden:!0,binding:function(e){if("List"==e.ReferenceType&&e.Value){var n=e.Value.lastIndexOf("/");return e.Value.substring(n+1)}return e.Value}},Active:{type:Boolean,defaultValue:!0},_KnownValuesCSVUrl:{type:String,hidden:!0,calculated:function(){if(this.Value)return $config.RESOURCE_ENDPOINT+this.TenantId+"/"+this.Value}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(n),n.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("ClientStaff","api/ClientStaff",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Firstname:{type:String,required:!0,table:{hidden:!0}},ClientStaffRoleId:{type:String,required:!0,table:{hidden:!0}},ClientStaffRole:{type:"ClientStaffRole",table:{hidden:!0}},Surname:{type:String,required:!0,table:{hidden:!0}},_Fullname:{type:String,sort:["Firstname","Surname"],reqColumns:["Firstname","Surname"],calculated:function(){return this.Firstname+" "+this.Surname},display:"Full Name"},_ClientStaffRole:{type:String,sort:["ClientStaffRole/Name"],reqColumns:["ClientStaffRole/Name"],calculated:function(){return this.ClientStaffRole&&this.ClientStaffRole.Name},display:"Client Staff Role",table:{visible:!1}},ClientId:{type:String,displayField:"Client.Name",table:{hidden:!0}},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},DateOfBirth:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{hidden:!0}},_ClientName:{type:String,sort:["Client/Name"],reqColumns:["ClientId","Client/Name"],calculated:function(){if(this.ClientId&&this.Client)return this.Client.Name},display:"Client Name",table:{hidden:!0}},Phone:{type:"Phone"},AllPassengers:{type:Boolean,table:{hidden:!0}},_AllPassengers:{type:String,sort:["AllPassengers"],reqColumns:["AllPassengers"],calculated:function(){return this.AllPassengers?"Yes":"No"},table:{visible:!1},display:"All Passengers"},Mobile:{type:"Phone",table:{visible:!1}},Fax:{type:"Phone",table:{hidden:!0}},Email:{type:String},Active:{type:Boolean,defaultValue:!0,table:{hidden:!0}},ImageUrl:{type:String,table:{hidden:!0}},Passengers:{type:["Passenger"],ref:"Passenger",refType:"ManyToMany",defaultValue:[],table:{hidden:!0}},CreationTime:{type:moment,hidden:!0},_ImageUrl:{type:String,hidden:!0,calculated:function(){return this.ImageUrl?"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl:window.endpoint+"api/imagegen?text="+(this.Firstname||"").replace(/ /g,"+")}},ScoreOverall:{type:Number,table:{hidden:!0}},Address1:{type:String,table:{hidden:!0}},Address2:{type:String,table:{hidden:!0}},Area:{type:String,table:{hidden:!0}},TownCity:{type:String,display:"Town/City",table:{hidden:!0}},County:{type:String,table:{hidden:!0}},Postcode:{type:String,table:{hidden:!0}},Country:{type:String,table:{hidden:!0}},Latitude:{type:Number,table:{hidden:!0}},Longitude:{type:Number,table:{hidden:!0}},ScoreBooking:{type:Number,table:{hidden:!0}},ScoreRevenue:{type:Number,table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},_FullAddress:{type:String,sort:["Address1","Address2","Area","TownCity","Postcode","County","Country"],reqColumns:["Address1","Address2","Area","TownCity","Postcode","County","Country"],calculated:function(){var e="";return e+=this.Address1?this.Address1+"\n":"",e+=this.Address2?this.Address2+"\n":"",e+=this.Area?this.Area+"\n":"",e+=this.TownCity?this.TownCity+"\n":"",e+=this.Postcode?this.Postcode+"\n":"",e+=this.County?this.County+"\n":"",e+=this.Country?this.Country:""},table:{hidden:!0},display:"Full Address"}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("ClientStaffRole","api/clientstaffroles",{Id:{type:String,editable:!1,required:!0,validators:[],table:{visible:!1}},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String,required:!0},Permissions:{type:String,hidden:!0},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("ClientType","api/clienttypes",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String},Clients:{type:["Client"],ref:"Client",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},PricingModelId:{type:String,display:"Default Pricing Model",visible:!1}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("CreditNote","api/CreditNotes",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Reference:{type:String},_Client:{type:String,calculated:function(){return this.Client?"("+this.Client.AccountNo+")"+this.Client.Name:""},display:"Client"},Description:{type:String,required:!0},TaxDate:{type:moment,required:!0},Amount:{type:Number,required:!0,binding:function(e){return e.Amount.toFixed(2)},displayFilters:" | currency"},ClientId:{type:String,required:!0,table:{hidden:!0}},Client:{type:"Client",table:{hidden:!0}},InvoiceId:{type:String,table:{hidden:!0}},Invoice:{type:"Invoice",table:{hidden:!0}},Status:{type:String,"enum":["Unsent","Sent","Paid"]},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},TaxId:{type:String,display:"Tax",hidden:!0},Tax:{type:"Tax",hidden:!0,required:!0}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Company","api/companies",{Id:{type:String,editable:!1,hidden:!0},Name:{type:String},PricingModelId:{type:String,display:"Default Pricing Model",displayField:"_PricingModelName",helpText:"Default Pricing Model for when no client override is selected."},PricingModel:{type:"PricingModel"},LogoUrl:{type:String},Address1:{type:String},Address2:{type:String},Area:{type:String},TownCity:{type:String,display:"Town/City"},County:{type:String},Postcode:{type:String},Country:{type:String},_FullAddress:{type:String,calculated:function(){var e="";return e+=this.Address1?this.Address1+"\n":"",e+=this.Address2?this.Address2+"\n":"",e+=this.Area?this.Area+"\n":"",e+=this.TownCity?this.TownCity+"\n":"",e+=this.Postcode?this.Postcode+"\n":"",e+=this.County?this.County+"\n":"",e+=this.Country?this.Country:""},display:"Address"},BillingAddress1:{type:String},BillingAddress2:{type:String},BillingArea:{type:String},BillingTownCity:{type:String,display:"Town/City"},BillingCounty:{type:String},BillingPostcode:{type:String},BillingCountry:{type:String},_FullBillingAddress:{type:String,calculated:function(){var e="";return e+=this.BillingAddress1?this.BillingAddress1+"\n":"",e+=this.BillingAddress2?this.BillingAddress2+"\n":"",e+=this.BillingArea?this.BillingArea+"\n":"",e+=this.BillingTownCity?this.BillingTownCity+"\n":"",e+=this.BillingPostcode?this.BillingPostcode+"\n":"",e+=this.BillingCounty?this.BillingCounty+"\n":"",e+=this.BillingCountry?this.BillingCountry:""},display:"Billing Address"},Phone:{type:"Phone"},Mobile:{type:"Phone"},Fax:{type:"Phone"},Email:{type:String},Website:{type:String},BaseLatitude:{type:Number},BaseLongitude:{type:Number},BaseZoom:{type:Number},DispatchLatitude:{type:Number},DispatchLongitude:{type:Number},DispatchZoom:{type:Number},RoutingOption:{type:String,required:!0,"enum":["SHORTEST","FASTEST"]},UseSMTP:{type:Boolean},SMTPServer:{type:String},SMTPEmail:{type:String},SMTPUsername:{type:String},SMTPPassword:{type:String},SMTPPort:{type:Number},SMTPSecure:{type:Boolean},MailgunDomain:{type:String},MailgunKey:{type:String},MailgunFromEmail:{type:String},_PricingModelName:{type:String,calculated:function(){return this.PricingModel&&this.PricingModel.Name}},_ImageUrl:{type:String,hidden:!0,calculated:function(){return this.LogoUrl?"http"==this.LogoUrl.slice(0,4)?this.LogoUrl:window.resourceEndpoint+this.LogoUrl:window.endpoint+"api/imagegen?text="+(this.Name||"").replace(/ /g,"+")}},DeactivateInvalidDrivers:{type:Boolean},DeactivateUnpayableDrivers:{type:Boolean},DefaultCurrencyId:{type:String,editable:!1,display:"Default Currency"},DefaultUserId:{type:String,display:"Default User"},DefaultCurrency:{type:"Currency",ref:"Currency",refBy:"DefaultCurrencyId"},DefaultLocale:{type:String,display:"Locale"},DefaultTimezone:{type:String,display:"Timezone"},UseMetric:{type:Boolean,defaultValue:!1},AutoCopyPassengerNotes:{type:Boolean,defaultValue:!1},ChauffeurModeActive:{type:Boolean},BankName:{type:String,display:"Bank Name"},RegistrationNumber:{type:String,display:"Registration Number"},VATNumber:{type:String,display:"VAT Number"},AccountNumber:{type:String,display:"Account Number"},SortCode:{type:String,display:"Sort Code"},IBAN:{type:String,display:"IBAN Number"},BIC:{type:String,display:"BIC Code"},DefaultInvoicePaymentInstructions:{type:String,textarea:4,display:"Default Payment Advice"},DefaultInvoiceDueDateOffset:{type:Number,display:"Default Payment Terms (Days)"},DefaultTaxId:{type:String,display:"Default Tax",displayField:"_DefaultTax",required:!0},DefaultTax:{type:"Tax"},DefaultCardTaxId:{type:String,display:"Default Tax (Card Bookings)",displayField:"_DefaultTax"},DefaultCardTax:{type:"Tax"},DefaultCashTaxId:{type:String,display:"Default Tax (Cash Bookings)",displayField:"_DefaultTax"},DefaultCashTax:{type:"Tax"},ZonePickupCharge:{type:String,required:!0},ZoneEntryCharge:{type:String,required:!0},ZoneDropoffCharge:{type:String,required:!0},DefaultDriverPaymentModelId:{type:String,displayField:"DefaultDriverPaymentModel.Name",helpText:"Default Driver Payment Model for when no override is selected.",table:{hidden:!0}},DefaultDriverPaymentModel:{type:"DriverPaymentModel",ref:"DriverPaymentModel",refBy:"DefaultDriverPaymentModelId",table:{hidden:!0}},FlightTrackingAppId:{type:String,hidden:!0},FlightTrackingAppKey:{type:String,hidden:!0},RequiresClient:{type:Boolean,hidden:!0,helpText:"All Bookings require a Client to be selected"},RequiresBooker:{type:Boolean,hidden:!0,helpText:"All Bookings require a Booker to be selected when a Client is selected."},RequiresContactNumber:{type:Boolean,hidden:!0,helpText:"All Bookings require a Contact Number"},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},OfferTimeout:{type:Number,min:15,max:60},CurrentCardPaymentProvider:{type:String,required:!0,"enum":["None","Stripe","Judopay"]},DefaultPax:{type:Number},DefaultBax:{type:Number},CallOnArrival:{type:Boolean,defaultValue:!1},TextOnArrival:{type:Boolean,defaultValue:!0},TextConfirmation:{type:Boolean,defaultValue:!0},EmailConfirmation:{type:Boolean,defaultValue:!0},TextAssigned:{type:Boolean,defaultValue:!1},EmailAssigned:{type:Boolean,defaultValue:!1},AutomatedWaitTimeCalculation:{type:Boolean,defaultValue:!1},TextOnCompletion:{type:Boolean,defaultValue:!0},TextOnOnRoute:{type:Boolean,defaultValue:!1}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("Conversation","api/Conversations",{Id:{type:String,editable:!1,hidden:!0},SenderId:{type:String,required:!0,displayField:"Sender.Name",table:{hidden:!0}},Sender:{type:"User",ref:"User",refBy:"SenderId",table:{hidden:!0}},Type:{type:String,"enum":["Driver","Client"]},BookingId:{type:String,required:!0,table:{hidden:!0}},Booking:{type:"Booking",ref:"Booking",refBy:"BookingId",table:{hidden:!0}},MessageType:{type:String,"enum":["Text","Video","Image"]},Body:{type:String},MediaUrl:{type:String},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var n=e.module("cab9.models");n.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("Currency","api/Currencies",{Id:{type:String,editable:!1,hidden:!0},Name:{type:String},Short:{type:String},Prepend:{type:String},Append:{type:String},CurrentRate:{type:Number},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("DispatchSettings","api/DispatchSettings",{Id:{type:String},TenantId:{type:String},Active:{type:Boolean},Mode:{type:String,"enum":["Recommend","Auto"]},TargetTime:{type:Number,required:!0},AcceptableTime:{type:Number,required:!0},MaximumTime:{type:Number,required:!0},UseGoogleMatrix:{type:Boolean},TimeWeighting:{type:Number,required:!0},TimeBase:{type:Number,required:!0},TimeCap:{type:Number,required:!0},GreenWeighting:{type:Number,required:!0},GreenBase:{type:Number,required:!0},GreenCap:{type:Number,required:!0},FairnessWeighting:{type:Number,required:!0},FairnessBase:{type:Number,required:!0},FairnessCap:{type:Number,required:!0},RatingWeighting:{type:Number,required:!0},RatingBase:{type:Number,required:!0},RatingCap:{type:Number,required:!0},EmptyWeighting:{type:Number,required:!0},EmptyBase:{type:Number,required:!0},EmptyCap:{type:Number,required:!0},LookForwardMinutes:{type:Number,required:!0},Frequency:{type:Number,required:!0},DispatchTimeCap:{type:Number},OverrideMode:{type:String,required:!0,"enum":["WeightedAverage","HighestPriority"]},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}}),e.registerSchema("DispatchOverrides","api/DispatchOverrides",{Id:{type:String},TenantId:{type:String},ClientId:{type:String},Client:{type:"Client"},ZoneId:{type:String},Zone:{type:"Zone"},IsRank:{type:Boolean},DaysOfWeek:{type:Number},StartTime:{type:Number},EndTime:{type:Number},$timespan:{type:String,calculated:function(){if((0==this.StartTime||this.StartTime)&&this.EndTime){var e=moment.utc().startOf("day").add(this.StartTime,"minutes"),t=moment.utc().startOf("day").add(this.EndTime,"minutes");return e.format("HH:mm")+" - "+(1440==this.EndTime?"24:00":t.format("HH:mm"))}return""}},$startTime:{type:moment,inputType:"time",display:"Start Time",timezone:!0},$endTime:{type:moment,inputType:"time",display:"End Time",timezone:!0},PaymentType:{type:String,"enum":["All","Cash","Card","OnAccount"]},TimeWeighting:{type:Number,required:!0},GreenWeighting:{type:Number,required:!0},FairnessWeighting:{type:Number,required:!0},RatingWeighting:{type:Number,required:!0},EmptyWeighting:{type:Number,required:!0},LookForwardMinutes:{type:Number,required:!0},Strength:{type:Number,required:!0},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Document","api/documents",{Id:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},DocumentTypeId:{type:String,required:!0,displayField:"DocumentType.Name",table:{hidden:!0}},DocumentType:{type:"DocumentType",ref:"DocumentType",refBy:"DocumentTypeId",table:{hidden:!0}},IssuedBy:{type:String},IssueDate:{type:moment,required:!1,displayFilters:" | date:'dd/MM/yyyy'",table:{visible:!1}},ExpiryDate:{type:moment,required:!1,displayFilters:" | date:'dd/MM/yyyy'",table:{visible:!1}},Active:{type:Boolean,defaultValue:!0,table:{visible:!1}},FileType:{type:String},FilePath:{type:String},ThumbnailPath:{type:String},OwnerType:{type:String},OwnerId:{type:String,editable:!1,hidden:!0},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("DocumentType","api/documenttypes",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String},Required:{type:Boolean},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Driver","api/drivers",{Id:{type:String,editable:!1,required:!0,validators:[],hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},DriverTypeId:{type:String,required:!0,displayField:"DriverType.Name",table:{hidden:!0}},DriverType:{type:"DriverType",ref:"DriverType",refBy:"DriverTypeId",table:{hidden:!0}},Firstname:{type:String,required:!0,table:{hidden:!0}},Surname:{type:String,required:!0,table:{hidden:!0}},DriverStatus:{type:String,"enum":["Offline","OnBreak","OnJob","Clearing","Available"],table:{visible:!1}},_Fullname:{type:String,sort:["Firstname","Surname"],reqColumns:["Firstname","Surname"],calculated:function(){return this.Firstname+" "+this.Surname},display:"Full Name"},Callsign:{type:String,required:!0},Nationality:{type:String,table:{visible:!1}},SupplierNo:{type:String,table:{visible:!1}},DateOfBirth:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},Address1:{type:String,table:{hidden:!0}},Address2:{type:String,table:{hidden:!0}},Area:{type:String,table:{hidden:!0}},TownCity:{type:String,display:"Town/City",table:{visible:!1}},County:{type:String,table:{hidden:!0}},Postcode:{type:String,table:{hidden:!0}},Country:{type:String,table:{hidden:!0}},Latitude:{type:Number,table:{hidden:!0}},Longitude:{type:Number,table:{hidden:!0}},_FullAddress:{type:String,sort:["Address1","Address2","Area","TownCity","Postcode","County","Country"],reqColumns:["Address1","Address2","Area","TownCity","Postcode","County","Country"],calculated:function(){var e="";return e+=this.Address1?this.Address1+"\n":"",e+=this.Address2?this.Address2+"\n":"",e+=this.Area?this.Area+"\n":"",e+=this.TownCity?this.TownCity+"\n":"",e+=this.Postcode?this.Postcode+"\n":"",e+=this.County?this.County+"\n":"",e+=this.Country?this.Country:""},table:{visible:!1},display:"Full Address"},Phone:{type:"Phone",table:{visible:!1}},Mobile:{type:"Phone"},Fax:{type:"Phone",table:{visible:!1}},CurrentBookingId:{type:"CurrentBookingId",table:{hidden:!0}},CurrentVehicleId:{type:"CurrentVehicleId",table:{hidden:!0}},CurrentVehicle:{type:"Vehicle",ref:"CurrentVehicle",refBy:"CurrentVehicleId",table:{hidden:!0}},Email:{type:String},NationalInsurance:{type:String,table:{visible:!1}},BankName:{type:String,table:{visible:!1}},BankAC:{type:String,table:{visible:!1}},BankSortCode:{type:String,table:{visible:!1}},MinimumInvoiceAmount:{type:Number,table:{visible:!1}},StartDate:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",defaultValue:(new moment).toDate(),table:{visible:!1}},EndDate:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",required:!1,table:{visible:!1}},VATRegistered:{type:Boolean,display:"VAT Registered",defaultValue:!0,table:{hidden:!0}},VATNumber:{type:String,display:"VAT Number",table:{hidden:!0}},Active:{type:Boolean,defaultValue:!0},VIP:{type:Boolean,defaultValue:!1},InactiveReason:{type:String,table:{hidden:!0}},SubContractor:{type:Boolean,defaultValue:!1,table:{hidden:!0}},ImageUrl:{type:String,table:{hidden:!0}},Tags:{type:["Tag"],ref:"Tag",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},CreationTime:{type:moment,hidden:!0},_ImageUrl:{type:String,hidden:!0,calculated:function(){return this.ImageUrl?"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl:window.endpoint+"api/imagegen?text="+(this.Callsign||"").replace(/ /g,"+")}},DefaultDriverPaymentModelId:{type:String,displayField:"DefaultDriverPaymentModel.Name",table:{hidden:!0}},DefaultDriverPaymentModel:{type:"DriverPaymentModel",ref:"DriverPaymentModel",refBy:"DefaultDriverPaymentModelId",table:{hidden:!0}},ScoreOverall:{type:Number,table:{hidden:!0}},ScoreBooking:{type:Number,table:{hidden:!0}},ScoreRevenue:{type:Number,table:{hidden:!0}},ScoreShift:{type:Number,table:{hidden:!0}},ScoreAcceptance:{type:Number,table:{hidden:!0}},ScorePassenger:{type:Number,table:{hidden:!0}},LastKnownLatitude:{type:Number,table:{hidden:!0}},LastKnownLongitude:{type:Number,table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},Cards:{type:["PaymentCard"],binding:function(e){return e.Cards&&e.Cards.length>0?e.Cards[0].CardNumber:"Not Added"},table:{visible:!1}},AutoDispatch:{type:Boolean,table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("DriverPayment","api/DriverPayments",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},DriverId:{type:String,displayField:"Driver._Fullname",table:{hidden:!0},display:"Driver"},Driver:{type:"Driver",ref:"Driver",refBy:"DriverId",table:{hidden:!0}},Status:{type:String,"enum":["Unsent","Unpaid","Paid"]},_Driver:{type:String,calculated:function(){return this.Driver?this.Driver.Firstname+" "+this.Driver.Surname+" ("+this.Driver.Callsign+")":""},display:"Driver"},PaymentFrom:{type:moment,display:"Payment From",displayFilters:" | companyDate:'DD/MM/YYYY'",table:{hidden:!0}},PaymentTo:{type:moment,display:"Payment To",displayFilters:" | companyDate:'DD/MM/YYYY'"},PaymentModelId:{type:String,displayField:"PaymentModel.Name",table:{hidden:!0},display:"Payment Model"},PaymentModel:{type:"DriverPaymentModel",ref:"DriverPaymentModel",refBy:"PaymentModelId",table:{hidden:!0}},_PaymentModel:{type:String,display:"Payment Model",calculated:function(){return this.PaymentModel?this.PaymentModel.Name:""}},_InvoiceCost:{type:Number,display:"Invoice Cost",calculated:function(){return this.Invoice?this.Invoice.TotalAmount:0},binding:function(e){return n+e._InvoiceCost.toFixed(2)}},_BillValue:{type:Number,display:"Bill Amount",calculated:function(){return this.Bill?this.Bill.TotalAmount:0},binding:function(e){return n+e._BillValue.toFixed(2)}},InvoiceId:{type:String,displayField:"Invoice.Reference",table:{hidden:!0},display:"Invoice"},Invoice:{type:"Invoice",ref:"Invoice",refBy:"InvoiceId",table:{hidden:!0}},BillId:{type:String,displayField:"Bill.Reference",table:{hidden:!0},display:"Bill"},Bill:{type:"Bill",ref:"Bill",refBy:"BillId",table:{hidden:!0}},BonusAmount:{type:Number,binding:function(e){return n+e.BonusAmount.toFixed(2)}},Balance:{type:Number,calculated:function(){var e=this;return e.BonusAmount+e.Bill.TotalAmount-e.Invoice.TotalAmount-e.Bill.PaymentsTotal+e.Invoice.PaymentsTotal},binding:function(e){return n+(e.BonusAmount+e.Bill.TotalAmount-e.Invoice.TotalAmount-e.Bill.PaymentsTotal+e.Invoice.PaymentsTotal).toFixed(2)}},Bookings:{type:["Booking"],ref:"Booking",refType:"OneToMany",table:{hidden:!0}},Adjustments:{type:["DriverPaymentAdjustment"],ref:"DriverPaymentAdjustment",refType:"OneToMany",table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Date",displayFilters:" | companyDate:'DD/MM/YYYY'"},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"];var n="£"}(angular);;;;
!function(e){function t(e){function t(e){if(e){if("number"==typeof e){var t=Math.floor(e/60)<10?"0"+Math.floor(e/60):Math.floor(e/60),e=e%60<10?"0"+e%60:e%60;return t+":"+e}throw{message:"Time is not in correct format. Please check your input and try again."}}return null}e.registerSchema("DriverAdjustment","api/DriverAdjustments",{Id:{type:String,editable:!1,required:!0,validators:[],table:{visible:!1}},TenantId:{type:String,editable:!1,hidden:!0},DriverId:{type:String,required:!0,table:{hidden:!0}},Adjustments:{type:"DriverPaymentAdjustment",table:{hidden:!0}},Type:{type:String,required:!0,"enum":["Credit","Debit"],defaultValue:"Debit"},Amount:{type:Number,binding:function(e){return"£"+e.Amount.toFixed(2)}},DaysOfWeek:{type:Number},AppliesToBooking:{type:Boolean,required:!1},_StartTime:{type:String,calculated:function(){return t(this.StartTime)},display:"Start Time"},_EndTime:{type:String,calculated:function(){return t(this.EndTime)},display:"End Time"},StartTime:{type:Number,table:{hidden:!0}},EndTime:{type:Number,table:{hidden:!0}},VehicleTypes:{type:String,table:{hidden:!0}},Reference:{type:String},Recurring:{type:String,"enum":["OneOff","Recurring","Installments"],defaultValue:"OneOff"},MinimumInstallment:{type:Number,table:{hidden:!0}},AmountType:{type:String,"enum":["Fixed","Percentage"],defaultValue:"Fixed"},AmountPaid:{type:Number},Approved:{type:Boolean,required:!0},Settled:{type:Boolean},_Tax:{type:String,calculated:function(){return this.Tax?this.Tax.Name:""},display:"Tax"},TaxId:{type:String,required:!0,displayField:"Tax.Name",display:"Tax",table:{hidden:!0}},Tax:{type:"Tax",table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("DriverPaymentAdjustment","api/DriverPaymentAdjustments",{Id:{type:String,editable:!1,required:!0,table:{visible:!1}},TenantId:{type:String,editable:!1,hidden:!0},DriverPaymentId:{type:String,required:!0,table:{hidden:!0}},DriverPayment:{type:"DriverPayment",table:{hidden:!0}},DriverAdjustmentId:{type:String,table:{hidden:!0}},BookingId:{type:String,editable:!1,hidden:!0},DriverAdjustment:{type:"DriverAdjustment",table:{hidden:!0}},TaxId:{type:String,table:{hidden:!0}},Tax:{type:"Tax",table:{hidden:!0}},DriverPaymentModelAdjustmentId:{type:String,table:{hidden:!0}},DriverPaymentModelAdjustment:{type:"DriverPaymentModelAdjustment",table:{hidden:!0}},Amount:{type:Number,binding:function(e){return"£"+e.Amount.toFixed(2)}},TaxAmount:{type:Number,table:{}},Type:{type:String,table:{}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("DriverPaymentModel","api/DriverPaymentModels",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String},Type:{type:String,"enum":["Commission","Mileage"]},CompanyCarCommision:{type:Number,min:-100,max:100,display:"Company Car Commission"},CompanyCarPerHour:{type:Number},CompanyCarPerBooking:{type:Number},CompanyCarPerMileSteps:{type:String},OwnCarCommision:{type:Number,min:-100,max:100,display:"Own Car Commission"},OwnCarPerHour:{type:Number},OwnCarPerBooking:{type:Number},OwnCarPerMileSteps:{type:String},WaitingPerHour:{type:Number},ChauffeurCommision:{type:Number,min:0,max:100,display:"Chauffeuring Commission"},ChauffeurPerHour:{type:Number,min:0,max:100,display:"Chauffeuring Per Hour"},CoaPricingAmount:{type:Number,defaultValue:1},CoaPricingType:{type:String,defaultValue:"FixedMileage","enum":["FixedAmount","FixedMileage"]},BonusParameters:{type:String},Overrides:{type:["DriverPaymentModelOverride"],ref:"DriverPaymentModelOverride",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},PeakDateBands:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var r=e.module("cab9.models");r.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){function t(e){if(e){if("number"==typeof e){var t=Math.floor(e/60)<10?"0"+Math.floor(e/60):Math.floor(e/60),e=e%60<10?"0"+e%60:e%60;return t+":"+e}throw{message:"Time is not in correct format. Please check your input and try again."}}return null}e.registerSchema("DriverPaymentModelAdjustment","api/DriverPaymentModelAdjustments",{Id:{type:String,editable:!1,required:!0,validators:[],table:{visible:!1}},TenantId:{type:String,editable:!1,hidden:!0},DriverPaymentModelId:{type:String,required:!0,table:{hidden:!0}},DriverPaymentModel:{type:"DriverPaymentModel",table:{hidden:!0}},Type:{type:String,required:!0,"enum":["Credit","Debit"],defaultValue:"Debit"},Amount:{type:Number},DaysOfWeek:{type:Number},AppliesToBooking:{type:Boolean,required:!1},_StartTime:{type:String,calculated:function(){return t(this.StartTime)},display:"Start Time"},_EndTime:{type:String,calculated:function(){return t(this.EndTime)},display:"End Time"},StartTime:{type:Number,table:{hidden:!0}},EndTime:{type:Number,table:{hidden:!0}},VehicleTypes:{type:String,table:{hidden:!0}},Reference:{type:String},TaxId:{type:String,required:!0,table:{hidden:!0}},Tax:{type:"Tax",table:{hidden:!0}},_Tax:{type:String,calculated:function(){return this.Tax?this.Tax.Name:""},display:"Tax"},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("DriverPaymentModelFixed","api/DriverPaymentModelFixeds",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},FromId:{type:String},FromPostcode:{type:String},From:{type:"Zone"},ToId:{type:String},To:{type:"Zone"},ToPostcode:{type:String},DriverPaymentModelId:{type:String,hidden:!0},DriverPaymentModel:{type:"DriverPaymentModel",editable:!1,hidden:!0},VehicleTypes:{type:["VehicleTypeInDriverPaymentFixed"]},Amount:{type:Number},AmountType:{type:String,"enum":["Fixed","Percentage"]}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("DriverFixed","api/DriverFixed",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},FromId:{type:String},FromPostcode:{type:String},From:{type:"Zone"},ToId:{type:String},To:{type:"Zone"},ToPostcode:{type:String},DriverId:{type:String,hidden:!0},Driver:{type:"Driver",editable:!1,hidden:!0},VehicleTypes:{type:["VehicleTypeInDriverFixed"]},Amount:{type:Number},AmountType:{type:String,"enum":["Fixed","Percentage"]}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("DriverType","api/drivertypes",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String},DefaultDriverPaymentModelId:{type:String,displayField:"DefaultDriverPaymentModel.Name",table:{hidden:!0}},DefaultDriverPaymentModel:{type:"DriverPaymentModel",ref:"DriverPaymentModel",refBy:"DefaultDriverPaymentModelId",table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function n(e){e.registerSchema("EmailConfig","api/emailConfig",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,hidden:!0},SenderName:{type:String},BccAddress:{type:String},Mode:{type:String,"enum":["SMTP","Mailgun"],defaultValue:"Mailgun"},SMTPServer:{type:String},SMTPEmail:{type:String},SMTPUsername:{type:String},SMTPPassword:{type:String,inputType:"password"},SMTPPort:{type:Number},SMTPSecure:{type:Boolean},MailgunDomain:{type:String},MailgunKey:{type:String,inputType:"password"},MailgunFromEmail:{type:String}})}var i=e.module("cab9.models");i.config(n),n.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Invoice","api/invoice",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},InvoiceType:{type:String,table:{visible:!1}},Reference:{type:String},ClientId:{type:String,displayField:"Client.Name",table:{hidden:!0},display:"Client"},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},_Client:{type:String,calculated:function(){return this.Client?"("+this.Client.AccountNo+")"+this.Client.Name:""},display:"Client"},DriverId:{type:String,displayField:"Driver._Fullname",table:{hidden:!0}},Driver:{type:"Driver",ref:"Driver",refBy:"DriverId",table:{hidden:!0}},Discount:{type:Number,table:{visible:!1}},Notes:{type:String,table:{visible:!1}},BookingsSubTotal:{type:Number,table:{visible:!1}},BookingsTaxAmount:{type:Number,table:{visible:!1}},ExtrasSubTotal:{type:Number,table:{visible:!1}},ExtrasTaxAmount:{type:Number,table:{visible:!1}},WaitingSubTotal:{type:Number,table:{visible:!1}},WaitingTaxAmount:{type:Number,table:{visible:!1}},AdjustmentsSubTotal:{type:Number,table:{visible:!1}},AdjustmentsTaxAmount:{type:Number,table:{visible:!1}},DiscountTotal:{type:Number,table:{visible:!1}},SubTotal:{type:Number,table:{visible:!1}},TaxAmount:{type:Number,table:{visible:!1}},TotalAmount:{type:Number,table:{visible:!1}},PaymentsTotal:{type:Number,table:{visible:!1}},CreationTime:{type:moment,display:"Creation Date",displayFilters:" | companyDate:'DD/MM/YYYY'"},DueDate:{type:moment,display:"Tax Date",required:!0,displayFilters:" | companyDate:'DD/MM/YYYY'"},Bookings:{type:["Booking"],ref:"Booking",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},Adjustments:{type:["ClientPricingAdjustment"],ref:"ClientPricingAdjustment",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},NoOfBookings:{type:Number,display:"Bookings"},Status:{type:String,"enum":["Unsent","Unpaid","Paid"]},_SubTotal:{type:Number,calculated:function(){var e=0;if(this.Bookings)for(var t=0;t<this.Bookings.length;t++)e=this.Bookings[t].InvoiceCost?e+this.Bookings[t].InvoiceCost:e+this.Bookings[t].ActualCost;return e},table:{hidden:!0}},_TaxAmount:{type:Number,calculated:function(){var e=0;if(this.Bookings)for(var t=0;t<this.Bookings.length;t++)this.Bookings[t].Tax&&(e+=this.Bookings[t].InvoiceCost*this.Bookings[t].Tax._TaxAmount);return e},table:{hidden:!0}},_TotalAmount:{type:Number,calculated:function(){return this._SubTotal+this._TaxAmount},table:{hidden:!0}},PaymentInstructions:{type:String,textarea:4,display:"Payment Instructions",table:{hidden:!0}},Payments:{type:["Payment"],ref:"Payment",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},_AmountDue:{type:Number,calculated:function(){var e=0;if(this.Payments)for(var t=0;t<this.Payments.length;t++)e+=this.Payments[t].AmountPaid;return this.TotalAmount-e},binding:function(e){return n+e._AmountDue.toFixed(2)},display:"Amount Due"},InvoiceDetails:{type:["InvoiceDetail"],ref:"InvoiceDetail",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},InvoiceSplitValue:{type:String,table:{hidden:!0}},InvoiceSplitField:{type:String,table:{hidden:!0}},InvoiceGroupField:{type:String,table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"];var n="£"}(angular);;;;
!function(e){function i(e){e.registerSchema("InvoiceDetail","api/InvoiceDetails",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},InvoiceId:{type:String,display:"Invoice"},Invoice:{type:"Invoice",ref:"Invoice",refBy:"InvoiceId"},ItemName:{type:String,display:"Item"},ItemDescription:{type:String,display:"Description"},Quantity:{type:Number,display:"Quantity"},UnitPrice:{type:Number,display:"Price"},Discount:{type:Number,display:"Discount"},TaxId:{type:String,display:"Tax"},Tax:{type:"Tax",ref:"Tax",refBy:"TaxId"},CreationTime:{type:moment,display:"Creation Date",displayFilters:" | companyDate:'DD/MM/YYYY'"},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("FlightInfo","api/flightinfo",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Arrival:{type:Boolean,defaultValue:!0},AlertString:{type:String},FlightNumber:{type:String},OriginCode:{type:String},Origin:{type:String},DestinationCode:{type:String},Destination:{type:String},Terminal:{type:String},SuggestedAddressId:{type:String},SuggestedAddress:{type:Object},FlightData:{type:String},ScheduledArrivalTime:{type:moment,display:"Arrival Time",displayFilters:" | companyDate:'HH:MM'"},ArrivalTime:{type:moment,display:"Arrival Time",displayFilters:" | companyDate:'HH:MM'"},Status:{type:String},MinsAfterLanding:{type:Number,minValue:0,maxValue:180,defaultValue:0,inputType:"number",step:5},Notes:{type:String},LastUpdate:{type:moment,table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function r(e){e.registerSchema("GoogleMapsConfig","api/GoogleMapDetails",{Id:{type:String,editable:!1,required:!0},TenantId:{type:String,editable:!1,required:!0},AndroidKey:{type:String,required:!0},ServerKey:{type:String,required:!0},BrowserKey:{type:String,required:!0},iOSKey:{type:String,required:!0}})}var i=e.module("cab9.models");i.config(r),r.$inject=["ModelProvider"]}(angular);;;;
!function(t){function e(t){t.registerSchema("KnownLocation","api/KnownLocations",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},LocationType:{type:String,"enum":["STATION","AIRPORT","OFFICE","OTHER"]},StopSummary:{type:String},Address1:{type:String},Address2:{type:String},Area:{type:String},TownCity:{type:String},County:{type:String},Postcode:{type:String},Country:{type:String},Latitude:{type:Number},Longitude:{type:Number},ImageUrl:{type:String},KnownPickupPoints:{type:["KnownPickupPoint"],table:{hidden:!0}},_KnownPickupPoints:{sort:["Id"],reqColumns:["KnownPickupPoints/Id"],calculated:function(){return this.KnownPickupPoints&&this.KnownPickupPoints.length},display:"KnownPickupPoints"},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},_FullAddress:{type:String,sort:["Address1","Address2","Area","TownCity","Postcode","County","Country"],reqColumns:["Address1","Address2","Area","TownCity","Postcode","County","Country"],calculated:function(){var t="";return t+=this.Address1?this.Address1+"\n":"",t+=this.Address2?this.Address2+"\n":"",t+=this.Area?this.Area+"\n":"",t+=this.TownCity?this.TownCity+"\n":"",t+=this.Postcode?this.Postcode+"\n":"",t+=this.County?this.County+"\n":"",t+=this.Country?this.Country:""},table:{visible:!1},display:"Full Address"},_ImageUrl:{type:String,hidden:!0,calculated:function(){if(this.ImageUrl)return"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl;if(this.Latitude&&this.Longitude){var t="AIzaSyAtRDZdVGx8r7tFPZR7h2D95VwsSyGqz-0";return"https://maps.googleapis.com/maps/api/staticmap?center="+this.Latitude+","+this.Longitude+"&zoom=18&size=400x400&key="+t}return window.endpoint+"api/imagegen?text="+(this.Name||"").replace(/ /g,"+")}}})}var i=t.module("cab9.models");i.config(e),e.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("KnownPickupPoint","api/KnownPickupPoints",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String,textarea:3},Latitude:{type:Number},Longitude:{type:Number},ImageUrl:{type:String},Maplink:{type:String},KnownLocationId:{type:String},KnownLocation:{type:"KnownLocation"},Bearing:{type:Number},Pitch:{type:Number},_ImageUrl:{type:String,hidden:!0,calculated:function(){return this.ImageUrl?"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl:window.endpoint+"api/imagegen?text="+(this.Name||"").replace(/ /g,"+")}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Location","api/Locations",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String},Type:{type:String},Latitude:{type:Number,required:!1},Postcode:{type:String,required:!1},Longitude:{type:Number,required:!1},Searchable:{type:String},Note:{type:String},ICAO:{type:String},Code:{type:String},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("NewUser","",{UserName:{type:String,required:!0},Password:{type:String,required:!0,inputType:"password"},PasswordRepeat:{type:String,required:!0,inputType:"password",display:"Password Repeat"},Email:{type:String,required:!0},PhoneNumber:{type:"Phone"},DriverId:{type:String},ClientId:{type:String},PassengerId:{type:String},StaffId:{type:String},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("NotificationTemplates","api/NotificationTemplates",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},NewBookingOfferTitle:{type:String,display:"Title",required:!0},NewBookingOfferText:{type:String,display:"Template",required:!0},ShiftTimeoutAlertTitle:{display:"Title",type:String,required:!0},ShiftTimeoutAlertText:{display:"Template",type:String,required:!0},ShiftTimeoutFinalAlertTitle:{display:"Title",type:String,required:!0},ShiftTimeoutFinalAlertText:{display:"Template",type:String,required:!0},ShiftClosedAlertTitle:{display:"Title",type:String,required:!0},ShiftClosedAlertText:{display:"Template",type:String,required:!0},NewBookingTitle:{display:"Title",type:String,required:!0},NewBookingText:{display:"Template",type:String,required:!0},BookingChangedTitle:{display:"Title",type:String,required:!0},BookingChangedText:{display:"Template",type:String,required:!0},BookingUnallocatedTitle:{display:"Title",type:String,required:!0},BookingUnallocatedText:{display:"Template",type:String,required:!0},BookingOnRouteTitle:{display:"Title",type:String,required:!0},BookingOnRouteText:{display:"Template",type:String,required:!0},BookingCancelledTitle:{display:"Title",type:String,required:!0},BookingCancelledText:{display:"Template",type:String,required:!0},BookingArrivedTitle:{display:"Title",type:String,required:!0},BookingArrivedText:{display:"Template",type:String,required:!0},BookingInProgressTitle:{display:"Title",type:String,required:!0},BookingInProgressText:{display:"Template",type:String,required:!0},BookingCOATitle:{display:"Title",type:String,required:!0},BookingCOAText:{display:"Template",type:String,required:!0},BookingCompletedTitle:{display:"Title",type:String,required:!0},BookingCompletedText:{display:"Template",type:String,required:!0},BookingAllocatedForPassengerTitle:{display:"Title",type:String,required:!0},BookingAllocatedForPassengerText:{display:"Template",type:String,required:!0},BookingUnallocatedForPassengerTitle:{display:"Title",type:String,required:!0},BookingUnallocatedForPassengerText:{display:"Template",type:String,required:!0},BookingNextStopForPassengerTitle:{display:"Title",type:String,required:!0},BookingNextStopForPassengerText:{display:"Template",type:String,required:!0}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("Note","api/notes",{Id:{type:String,editable:!1,hidden:!0},OwnerType:{type:String},OwnerId:{type:String},Subject:{type:String,required:!0},Content:{type:String,required:!0},CreationTime:{type:moment,display:"Creation Time"},ModificationUserId:{type:String},CreationUserId:{type:String},ModificationTime:{type:moment,display:"Modification Time"}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Passenger","api/passengers",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Firstname:{type:String,required:!0,table:{hidden:!0}},Surname:{type:String,required:!0,table:{hidden:!0}},_Fullname:{type:String,sort:["Firstname","Surname"],reqColumns:["Firstname","Surname"],calculated:function(){return this.Firstname+" "+this.Surname},display:"Full Name"},ClientId:{type:String,displayField:"Client.Name",table:{hidden:!0}},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},_ClientName:{type:String,sort:["Client/Name"],reqColumns:["ClientId","Client/Name"],calculated:function(){if(this.ClientId&&this.Client)return this.Client.Name},display:"Client Name"},Phone:{type:"Phone",table:{visible:!1}},Mobile:{type:"Phone",required:!0},VIP:{type:Boolean},Fax:{type:"Phone",table:{visible:!1}},Email:{type:String,table:{visible:!1}},Active:{type:Boolean,defaultValue:!0,table:{hidden:!0}},Notes:{type:String,textarea:5,table:{hidden:!0}},ImageUrl:{type:String,table:{hidden:!0}},Tags:{type:["Tag"],ref:"Tag",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},CreationTime:{type:moment},_Addresses:{type:String,sort:["Id"],reqColumns:["Addresses"],binding:function(e){if(e.Addresses&&e.Addresses.length>0){for(var t="",i=0;i<e.Addresses.length;i++){var n=e.Addresses[i].StopSummary;t+=n+"<span></span>"}return t}return""},display:"Addresses",htmlBinding:!0,table:{visible:!1}},DefaultVehicleTypeId:{type:String,display:"Default Vehicle Type",table:{hidden:!0}},_ImageUrl:{type:String,hidden:!0,calculated:function(){return this.ImageUrl?"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl:window.endpoint+"api/imagegen?text="+(this.Firstname||"").replace(/ /g,"+")}},Addresses:{type:["PassengerAddress"],ref:"PassengerAddress",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},BannedDrivers:{type:["Driver"],ref:"Driver",refType:"ManyToMany",defaultValue:[],table:{hidden:!0}},ScoreOverall:{type:Number,table:{hidden:!0}},ScoreBooking:{type:Number,table:{hidden:!0}},ScoreRevenue:{type:Number,table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},Invited:{type:Boolean,defaultValue:!1,display:"Invited to App",table:{visible:!1}}}),e.registerSchema("PassengerProfile","",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Firstname:{type:String,required:!0,table:{hidden:!0}},Surname:{type:String,required:!0,table:{hidden:!0}},_Fullname:{type:String,calculated:function(){return this.Firstname+" "+this.Surname},display:"Full Name"},ClientId:{type:String,displayField:"Client.Name",table:{hidden:!0}},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},Phone:{type:"Phone"},Mobile:{type:"Phone",required:!0},Email:{type:String},ImageUrl:{type:String,table:{hidden:!0}},Bookings:{type:Number},Notes:{type:String,textarea:5},_ImageUrl:{type:String,hidden:!0,calculated:function(){return this.ImageUrl?"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl:window.endpoint+"api/imagegen?text="+(this.Firstname||"").replace(/ /g,"+")}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("PassengerAddress","api/PassengerAddresses",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},StopSummary:{type:String},Name:{type:String,required:!0},Address1:{type:String,required:!0,table:{hidden:!0}},Address2:{type:String,table:{hidden:!0}},Area:{type:String,table:{hidden:!0}},TownCity:{type:String,table:{hidden:!0}},County:{type:String,table:{hidden:!0}},Postcode:{type:String,required:!0,table:{hidden:!0}},Country:{type:String,table:{hidden:!0}},_FullAddress:{type:String,calculated:function(){var e="";return e+=this.Address1?this.Address1+"\n":"",e+=this.Address2?this.Address2+"\n":"",e+=this.Area?this.Area+"\n":"",e+=this.TownCity?this.TownCity+"\n":"",e+=this.Postcode?this.Postcode+"\n":"",e+=this.County?this.County+"\n":"",e+=this.Country?this.Country:""},display:"Full Address"},_Summary:{type:String,calculated:function(){return window.$utilities.formatAddress(this)},display:"Full Address"},Latitude:{type:Number,required:!1},Longitude:{type:Number,required:!1},latitude:{type:Number,calculated:function(){return this.Latitude}},longitude:{type:Number,calculated:function(){return this.Longitude}},Note:{type:String},PassengerId:{type:String,required:!0,displayField:"Passenger.Id",table:{hidden:!0}},Passenger:{type:"Passenger",ref:"Passenger",refBy:"PassengerId",table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("Payment","api/Payments",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},InvoiceId:{type:String,displayField:"Invoice.Reference",table:{hidden:!0},display:"Invoice"},TransactionId:{type:String,table:{hidden:!0}},Invoice:{type:"Invoice",ref:"Invoice",refBy:"InvoiceId",table:{hidden:!0}},AmountPaid:{type:Number,display:"Amount Paid",binding:function(e){return t+e.AmountPaid.toFixed(2)}},Reference:{type:String},PaymentType:{type:String,"enum":["Cheque","Cash","BankTransfer","CardPayment","Other"]},PaymentDate:{type:moment,display:"Payment Date",required:!0,displayFilters:" | companyDate:'DD/MM/YYYY'"},CreationTime:{type:moment,display:"Creation Date",displayFilters:" | companyDate:'DD/MM/YYYY'"},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var n=e.module("cab9.models");n.config(i),i.$inject=["ModelProvider"];var t="£"}(angular);;;;
!function(e){function i(e){e.registerSchema("PricingFixed","api/pricingfixeds",{Id:{type:String,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},FixedPrice:{type:Number,prepend:{text:"{{current.Prepend}}"}},AllowVehicleModifiers:{type:Boolean},PricingModelId:{type:String},PricingModel:{type:"PricingModel"},FromId:{type:String},FromPostcode:{type:String},From:{type:"Zone"},ToId:{type:String},To:{type:"Zone"},ToPostcode:{type:String},BothWays:{type:Boolean},VehicleTypes:{type:["VehicleTypeInPricingFixed"]},CreationTime:{type:moment},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("ClientPricingFixed","api/clientpricingfixeds",{Id:{type:String,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},FixedPrice:{type:Number,prepend:{text:"{{current.Prepend}}"}},AllowVehicleModifiers:{type:Boolean},ClientId:{type:String},Client:{type:"Client"},FromId:{type:String},FromPostcode:{type:String},From:{type:"Zone"},ToId:{type:String},To:{type:"Zone"},ToPostcode:{type:String},VehicleTypes:{type:["VehicleTypeInClientPricingFixed"]},BothWays:{type:Boolean},CreationTime:{type:moment},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("PricingModel","api/pricingmodels",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String},StandingCharge:{type:Number,display:"Standing Charge",currency:!0},ExtraStopCharge:{type:Number,display:"Extra Stop Charge",currency:!0},MinimumCharge:{type:Number,display:"Minimum Charge",currency:!0},WaitTimeCharge:{type:Number,display:"Waiting Charge/Min",currency:!0},FarePerMile:{type:Number,display:"{{(COMPANY.UseMetric == 1)?'Price Per Km':'Price Per Mile'}}",currency:!0},Zones:{type:["ZoneInPricingModel"],defaultValue:[]},PricingFixeds:{type:["PricingFixed"],defaultValue:[]},VehicleTypePricings:{type:["PricingModelVehicleTypePricing"],defaultValue:[]},PricePerHour:{type:Number,display:"Price Per Hour",currency:!0},MinMinutes:{type:Number,display:"Min Minutes",nullDisplay:"-"},IncludedMiles:{type:Number,display:"{{(COMPANY.UseMetric == 1)?'Included Km':'Included Miles'}}",nullDisplay:"-"},FarePreference:{type:String,"enum":["Zone","VehicleType"],defaultValue:"VehicleType"},StepsMode:{type:String,display:"Mileage Steps Mode","enum":["Precise","Cumulative","Fixed"],defaultValue:"Precise"},RoundMileageTo:{type:Number,min:.01,max:1,step:.05,display:"Round Mileage To"},RoundMileageMode:{type:String,"enum":["Nearest","Up","Down"],defaultValue:"Nearest"},RoundTo:{type:Number,min:.01,max:1,step:.1,display:"Round Fare To"},RoundMode:{type:String,"enum":["Nearest","Up","Down"],defaultValue:"Nearest"},FarePerMileSteps:{type:String},PeakTimeBands:{type:String},PeakDateBands:{type:String},FreeWaitingTime:{type:Number},FreeWaitingTimeAirport:{type:Number},IsWaitingTimeGrace:{type:Boolean},IsWaitingTimeGraceAirport:{type:Boolean},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},CancellationRuleId:{type:String,required:!0,table:{hidden:!0}},CancellationRule:{type:"CancellationRule",ref:"CancellationRule",refBy:"CancellationRuleId",table:{hidden:!0}},$previous:{type:String}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("PricingModelVehicleTypePricing","api/PricingModelVehicleTypePricings",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String},PricingModelId:{type:String},PricingModel:{type:"PricingModel"},VehicleTypeId:{type:String},VehicleType:{type:"VehicleType"},AllowChaffuering:{type:Boolean},MinimumCharge:{type:Number,display:"Minimum Fare",currency:!0},StandingCharge:{type:Number,display:"Standing Charge",currency:!0},WaitTimeCharge:{type:Number,display:"Wait Time Charge",currency:!0},ExtraStopCharge:{type:Number,display:"Extra Stop Charge",currency:!0},PricePerHour:{type:Number,display:"Price Per Hour",currency:!0},FarePerMile:{type:Number,display:"{{(COMPANY.UseMetric == 1)?'Price Per Km':'Price Per Mile'}}",currency:!0},FarePerMileSteps:{type:String},MinMinutes:{type:Number,display:"Min Minutes",nullDisplay:"-"},IncludedMiles:{type:Number,display:"{{(COMPANY.UseMetric == 1)?'Included Km':'Included Miles'}}",nullDisplay:"-"},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var r=e.module("cab9.models");r.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("Zone","api/zones",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String},OverviewPolyline:{type:String},PricingModels:{type:["ZoneInPricingModel"],defaultValue:[]},MinLatitude:{type:Number},MaxLatitude:{type:Number},MinLongitude:{type:Number},MaxLongitude:{type:Number},Size:{type:Number},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("ZoneInPricingModel","api/pricingzoneinpricingmodels",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},PricingModelId:{type:String},PricingModel:{type:"PricingModel"},ZoneId:{type:String},Zone:{type:"Zone"},EntryCharge:{type:Number,currency:!0},DropoffCharge:{type:Number,currency:!0},PickupCharge:{type:Number,currency:!0},EntryExclusion:{type:Number,currency:!0},DropoffExclusion:{type:Number,currency:!0},PickupExclusion:{type:Number,currency:!0},FarePerMile:{type:Number,currency:!0},FarePerMileSteps:{type:String},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var r=e.module("cab9.models");r.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("ScoreWeighting","api/ScoreWeightings",{Id:{type:String,editable:!1,table:{visible:!1}},TenantId:{type:String,editable:!1,hidden:!0},WeekWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.5},MonthWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.3},YearlyWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.2},DriverCountWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.3},DriverValueWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.3},DriverPassengerWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.2},DriverAcceptanceWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.1},DriverShiftWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.1},ClientCountWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.4},ClientValueWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.6},VehicleCountWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.4},VehicleValueWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.6},PassengerCountWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.4},PassengerValueWeighting:{type:Number,inputType:"number",step:.1,min:0,max:1,defaultValue:.6},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Staff","api/staff",{Id:{type:String,editable:!1,required:!0,validators:[],hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},StaffRoleId:{type:String,required:!0,displayField:"StaffRole.Name",table:{hidden:!0}},StaffRole:{type:"StaffRole",ref:"StaffRole",refBy:"StaffRoleId",table:{hidden:!0}},Firstname:{type:String,required:!0,table:{hidden:!0}},Surname:{type:String,required:!0,table:{hidden:!0}},_Fullname:{type:String,sort:["Firstname","Surname"],reqColumns:["Firstname","Surname"],calculated:function(){return this.Firstname+" "+this.Surname},display:"Full Name"},Nationality:{type:String,table:{visible:!1}},DateOfBirth:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},Address1:{type:String,table:{hidden:!0}},Address2:{type:String,table:{hidden:!0}},Area:{type:String,table:{hidden:!0}},TownCity:{type:String,display:"Town/City",table:{visible:!1}},County:{type:String,table:{hidden:!0}},Postcode:{type:String,table:{hidden:!0}},Country:{type:String,table:{hidden:!0}},_FullAddress:{type:String,sort:["Address1","Address2","Area","TownCity","Postcode","County","Country"],reqColumns:["Address1","Address2","Area","TownCity","Postcode","County","Country"],calculated:function(){var e="";return e+=this.Address1?this.Address1+"\n":"",e+=this.Address2?this.Address2+"\n":"",e+=this.Area?this.Area+"\n":"",e+=this.TownCity?this.TownCity+"\n":"",e+=this.Postcode?this.Postcode+"\n":"",e+=this.County?this.County+"\n":"",e+=this.Country?this.Country:""},table:{visible:!1},display:"Full Address"},Phone:{type:"Phone"},Mobile:{type:"Phone"},Fax:{type:"Phone",table:{visible:!1}},Email:{type:String},StartDate:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",defaultValue:(new moment).toDate(),table:{visible:!1}},EndDate:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",required:!1,table:{visible:!1}},Active:{type:Boolean,defaultValue:!0,table:{hidden:!0}},ImageUrl:{type:String,table:{hidden:!0}},CreationTime:{type:moment,hidden:!0},_ImageUrl:{type:String,hidden:!0,calculated:function(){return this.ImageUrl?"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl:window.endpoint+"api/imagegen?text="+(this.Firstname||"").replace(/ /g,"+")}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("StaffRole","api/staffroles",{Id:{type:String,editable:!1,required:!0,validators:[],table:{visible:!1}},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String,required:!0},Permissions:{type:String,hidden:!0},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Tax","api/taxes",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},TaxTypeId:{type:String,display:"Tax Type",displayField:"TaxType.Name",table:{hidden:!0}},TaxType:{type:"TaxType",ref:"TaxType",refBy:"TaxTypeId",table:{hidden:!0}},_TaxType:{type:String,calculated:function(){return this.TaxType?this.TaxType.Name:""},display:"Tax Type"},Description:{type:String,table:{visible:!1}},TaxComponents:{type:["TaxComponent"],ref:"TaxComponent",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},_TaxRate:{type:String,display:"Rate",calculated:function(){var e=0;if(this.TaxComponents)for(var t=0;t<this.TaxComponents.length;t++)e+=this.TaxComponents[t].Rate;return e+"%"}},_TaxAmount:{type:Number,table:{hidden:!0},calculated:function(){var e=0;if(this.TaxComponents)for(var t=0;t<this.TaxComponents.length;t++)e+=this.TaxComponents[t].Rate/100;return e}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var a=e.module("cab9.models");a.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("TaxComponent","api/TaxComponents",{Id:{type:String,editable:!1,hidden:!0},Name:{type:String,table:{visible:!1},display:"Component"},TaxId:{type:String,display:"Tax",displayField:"Tax.Name",table:{hidden:!0}},Tax:{type:"Tax",ref:"Tax",refBy:"TaxId",table:{hidden:!0}},Rate:{type:Number},Description:{type:String,table:{visible:!1}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("TaxType","api/TaxTypes",{Id:{type:String,editable:!1,hidden:!0},Name:{type:String},Description:{type:String},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("User","api/account",{Id:{type:String,editable:!1,hidden:!0},UserName:{type:String},Email:{type:String},Claims:{type:["Claim"],ref:"Claim",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},AccessFailedCount:{type:Number,table:{hidden:!0}},LockoutEnabled:{type:Boolean,binding:function(e){return 1==e.LockoutEnabled?"Yes":0==e.LockoutEnabled?"No":""},table:{visible:!1}},LockoutEndDateUtc:{type:moment,table:{hidden:!0}},PhoneNumber:{type:"Phone",table:{hidden:!0}},Name:{type:String},ImageUrl:{type:String,hidden:!0},_ImageUrl:{type:String,table:{hidden:!0},calculated:function(){return this.ImageUrl&&""!=this.ImageUrl.trim()?"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl:window.endpoint+"api/imagegen?text="+(this.Name||"").replace(/ /g,"+")}},UserType:{type:String,calculated:function(){var e="";if(!this.Claims)return"";for(var t=0;t<this.Claims.length;t++)"DriverId"==this.Claims[t].ClaimType?e+="Driver":"ClientId"==this.Claims[t].ClaimType?e+="Client":"PassengerId"==this.Claims[t].ClaimType?e+="Passenger":"StaffId"==this.Claims[t].ClaimType&&(e+="Staff");return e},display:"User Type"},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}}),e.registerSchema("UserInfo","api/account/formatted",{Id:{type:String,editable:!1,table:{visible:!1}},TenantId:{type:String,editable:!1,hidden:!0},UserName:{type:String},Name:{type:String},Type:{type:String,display:"User Type"},Client:{type:String,display:"Clients",htmlBinding:!0,binding:function(){return'<span style="white-space:pre;">{{$row.Client}}</span>'}},Email:{type:String,table:{visible:!1}},EmailConfirmed:{type:Boolean,display:"Verified"},LockoutEndDateUtc:{type:moment,table:{hidden:!0}},ImageUrl:{type:String,hidden:!0},_ImageUrl:{type:String,table:{hidden:!0},calculated:function(){return this.ImageUrl&&""!=this.ImageUrl.trim()?"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl:window.endpoint+"api/imagegen?text="+(this.Name||"").replace(/ /g,"+")}},TypeId:{type:String,table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("Vehicle","api/vehicles",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},VehicleClassId:{type:String,required:!0,displayField:"Class.Name",table:{hidden:!0}},Class:{type:"VehicleClass",ref:"VehicleClass",refBy:"VehicleClassId",table:{hidden:!0}},VehicleTypeId:{type:String,required:!0,displayField:"Type.Name",table:{hidden:!0}},Type:{type:"VehicleType",ref:"VehicleType",refBy:"VehicleTypeId",table:{hidden:!0}},Make:{type:String,required:!0,table:{visible:!1}},Model:{type:String,required:!0,table:{visible:!1}},Colour:{type:String,required:!0,table:{visible:!1}},RegYear:{type:String,required:!0,table:{visible:!1}},CORating:{type:Number,table:{visible:!1}},_Description:{type:String,sort:["Colour","Make","Model"],reqColumns:["Colour","Make","Model"],calculated:function(){return this.Colour+" "+this.Make+" "+this.Model},display:"Description"},Registration:{type:String,required:!0,display:"Registration No."},Description:{type:String,table:{hidden:!0}},Pax:{type:Number,defaultValue:4,table:{hidden:!0},display:"Max. Passengers"},Bax:{type:Number,defaultValue:1,table:{hidden:!0},display:"Max. Baggage"},Wheelchairs:{type:Number,defaultValue:0,table:{hidden:!0},display:"Max. Wheelchairs"},Electric:{type:Boolean,binding:function(e){return 1==e.Electric?"Yes":0==e.Electric?"No":""}},StartDate:{type:moment,required:!1,defaultValue:(new moment).toDate(),displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},EndDate:{type:moment,required:!1,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},Active:{type:Boolean,defaultValue:!0,table:{hidden:!0}},IsCompanyVehicle:{type:Boolean,binding:function(e){return 1==e.IsCompanyVehicle?"Yes":0==e.IsCompanyVehicle?"No":""}},ImageUrl:{type:String,table:{hidden:!0}},DriverId:{type:String,displayField:"Driver._Fullname",table:{hidden:!0}},Driver:{type:"Driver",ref:"Driver",refBy:"DriverId",table:{hidden:!0}},Tags:{type:["Tag"],ref:"Tag",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},CreationTime:{type:moment,hidden:!0},_ImageUrl:{type:String,hidden:!0,calculated:function(){return $config.API_ENDPOINT+"api/imagegen?type=plate&text="+(this.Registration||"").replace(/ /g,"+")}},ScoreOverall:{type:Number,table:{hidden:!0}},ScoreBooking:{type:Number,table:{hidden:!0}},ScoreRevenue:{type:Number,table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("VehicleClass","api/vehicleclasses",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String},Vehicles:{type:["Vehicle"],ref:"Vehicle",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("VehicleType","api/vehicletypes",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},ClientLabel:{type:String},DriverLabel:{type:String},Description:{type:String},MaxPax:{type:Number,display:"Maximum Passengers Allowed",required:!0},MaxBax:{type:Number,display:"Maximum Bags Allowed",required:!0},ImageUrl:{type:String},_ImageUrl:{type:String,hidden:!0,calculated:function(){if(this.ImageUrl)return"http"==this.ImageUrl.slice(0,4)?this.ImageUrl:window.resourceEndpoint+this.ImageUrl}},IsDefault:{type:Boolean},AppBookable:{type:Boolean,display:"Is App Bookable?"},OTMapping:{type:String,display:"One Transport Mapping"},CFMapping:{type:String,display:"City Fleet Mapping"},GSMapping:{type:String,display:"Groundscope Mapping"},InfinityMapping:{type:String,Display:"Infinity Mapping"},HEREMapsMapping:{type:String,Display:"Here Maps Mapping"},GettMapping:{type:String,Display:"Gett Mapping"},Vehicles:{type:["Vehicle"],ref:"Vehicle",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},Priority:{type:Number},Order:{type:Number},Colour:{type:String},TaxId:{type:String,displayField:"Type.Name",table:{hidden:!0}},Tax:{type:"Tax",ref:"Tax",refBy:"TaxId",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("VehicleTypeInDriverFixed","api/VehicleTypeInDriverFixeds",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},PaymentFixedId:{type:String},PaymentFixed:{type:"DriverPaymentModelFixed"},VehicleTypeId:{type:String},VehicleType:{type:"VehicleType"},FixedPayment:{type:Number,currency:!0},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("VehicleTypeInDriverPaymentFixed","api/VehicleTypeInDriverPaymentFixeds",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},PaymentFixedId:{type:String},PaymentFixed:{type:"DriverFixed"},VehicleTypeId:{type:String},VehicleType:{type:"VehicleType"},FixedPayment:{type:Number,currency:!0},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("VehicleTypeInPricingFixed","api/VehicleTypeInPricingFixeds",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},PricingFixedId:{type:String},PricingFixed:{type:"PricingFixed"},VehicleTypeId:{type:String},VehicleType:{type:"PricingFixed"},FixedPrice:{type:Number,currency:!0},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var n=e.module("cab9.models");n.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("VehicleTypeInClientPricingFixed","api/VehicleTypeInClientPricingFixeds",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},PricingFixedId:{type:String},PricingFixed:{type:"PricingFixed"},VehicleTypeId:{type:String},VehicleType:{type:"PricingFixed"},FixedPrice:{type:Number,currency:!0},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var n=e.module("cab9.models");n.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("BookingValidation","api/bookingvalidations",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String},BookingId:{type:String,required:!0,displayField:"Booking.Id",table:{hidden:!0}},Booking:{type:"Booking",ref:"Booking",refBy:"BookingId",table:{hidden:!0}},ClientReferenceId:{type:String,required:!0,table:{hidden:!0}},ClientReference:{type:"ClientReference",ref:"ClientReference",refBy:"ClientReferenceId",table:{hidden:!0}},Value:{type:String,required:!0},CreationTime:{type:moment,display:"Creation Date",displayFilters:" | companyDate:'DD/MM/YYYY'"},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var n=e.module("cab9.models");n.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("ClientWebBookerSetting","api/ClientWebBookerSettings",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},ClientId:{type:String,displayField:"Client.Name",table:{hidden:!0}},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},WebBookingDomain:{type:String,required:!0,display:"Web Booking Domain"},WelcomeMessage:{type:String,display:"Welcome Message"},WelcomeDescription:{type:String,display:"Welcome Description"},WelcomeHeroImage:{type:String,display:"Welcome Image"},_WelcomeHeroImage:{type:String,hidden:!0,calculated:function(){if(this.WelcomeHeroImage)return"http"==this.WelcomeHeroImage.slice(0,4)?this.WelcomeHeroImage:$config.RESOURCE_ENDPOINT+this.WelcomeHeroImage}},ModificationUserId:{type:String},CreationUserId:{type:String},ModificationTime:{type:moment,display:"Modification Time"}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("SmsDetail","api/SmsDetails",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},ApiKey:{type:String,required:!0},ApiSecret:{type:String,required:!0,inputType:"password"},From:{type:String,required:!0},Provider:{type:String,required:!1,defaultValue:"nexmo"},ConfirmationTemplate:{type:String,required:!0,textarea:4},AssignedTemplate:{type:String,required:!0,textarea:4},ArrivalTemplate:{type:String,required:!0,textarea:4},ArrivalScript:{type:String,required:!0,textarea:4},CompletionTemplate:{type:String,required:!0,textarea:4},OnRouteTemplate:{type:String,required:!0,textarea:4},CompletedMessageMinutesAfter:{type:Number,required:!0}})}var r=e.module("cab9.models");r.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function r(e){e.registerSchema("PaymentCard","api/PaymentCards",{Id:{type:String,editable:!1},CardNumber:{type:String},ExpirationMonth:{type:Number,required:!0},ExpirationYear:{type:Number,required:!0},Cvc:{type:Number,required:!0},ClientId:{type:String,required:!0,table:{hidden:!0}},Client:{type:"Client",table:{hidden:!0}},PassengerId:{type:String,required:!0,table:{hidden:!0}},Passenger:{type:"Passenger",table:{hidden:!0}},DriverId:{type:String,required:!0,table:{hidden:!0}},Driver:{type:"Driver",table:{hidden:!0}},BillingName:{type:String},BillingAddress:{type:String},BillingPostcode:{type:String},DefaultCard:{type:Boolean},Type:{type:String},PlatformType:{type:String,required:!0,"enum":["None","Stripe","Judopay"]}})}var t=e.module("cab9.models");t.config(r),r.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("Transaction","api/Transactions",{Id:{type:String,editable:!1},TenantId:{type:String},BookingId:{type:String},LocalId:{type:Number},CreatedAt:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'"},Provider:{type:String},Success:{type:Boolean},Request:{type:String},Response:{type:String},PaymentCardId:{type:String},PaymentCardNumber:{type:String},PaymentCardType:{type:String},ClientName:{type:String},PassengerName:{type:String},InvoiceRef:{type:String},Amount:{type:Number},TransactionType:{type:String}})}var n=e.module("cab9.models");n.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("CompanyPaymentSettings","api/companypaymentsettings",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},CommissionTaxId:{type:String,display:"Commission Tax"},CommissionTax:{type:"Tax"},InclusiveVAT:{type:Boolean},AccountAgent:{type:Boolean},CardAgent:{type:Boolean},CashAgent:{type:Boolean},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var n=e.module("cab9.models");n.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function r(e){e.registerSchema("CardPaymentProviderDetail","api/CardPaymentProviderDetail",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Token:{type:String,required:!0},SecretKey:{type:String,required:!0,inputType:"password"},ProviderUserId:{type:String,required:!0},Description:{type:String,textarea:2},Provider:{type:String,required:!0,"enum":["None","Stripe","Judopay"]},Type:{type:String,required:!0,"enum":["LIVE","SANDBOX"]},PreauthAmount:{type:Number},IsManualSetup:{type:Boolean},IsActive:{type:Boolean}})}var t=e.module("cab9.models");t.config(r),r.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("AppConfig","api/AppConfigs",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String},EncodedPath:{type:String},DriverMinETA:{type:Number,display:"Minimum ETA (mins)"},DriverETACap:{type:Number,display:"ETA Cap (mins)"},DriverETAUnavailable:{type:Number,display:"ETA Unavailable (mins)"},MaximumDistance:{type:String,display:"Maximum Zone Distance (Acceptable)"},VisibleDriverSetting:{type:String,"enum":["All","Available","None"],display:"Visible Driver Setting",defaultValue:"All"},LeadTime:{type:Number,display:"Lead Time (mins)"},TimeMultiplier:{type:Number,display:"Zone Time Multiplier"}})}var a=e.module("cab9.models");a.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("Partner","",{Id:{type:String,editable:!1,hidden:!0},PartnerType:{type:String,"enum":["GETT","CityFleet"]},PartnerName:{type:String},PartnerDescription:{type:String},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("PartnerDriver","",{Id:{type:String,editable:!1,hidden:!0},Partner:{type:"Partner",ref:"Partner",refBy:"PartnerId",table:{hidden:!0}},PartnerId:{type:String,editable:!1},Name:{type:String},ImageUrl:{type:String},Mobile:{type:String},Compliance:{type:String},LastKnownLatitude:{type:Number},LastKnownLongitude:{type:Number},_ImageUrl:{type:String,hidden:!0,calculated:function(){return window.formatImage(this.ImageUrl,this.Name)}}})}var r=e.module("cab9.models");r.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("PartnerVehicle","",{Id:{type:String,editable:!1,hidden:!0},Partner:{type:"Partner",ref:"Partner",refBy:"PartnerId",table:{hidden:!0}},PartnerId:{type:String,editable:!1},Make:{type:String},Model:{type:String},Colour:{type:String},Reg:{type:String},_Description:{type:String,calculated:function(){return"("+this.Reg+") "+this.Colour+" "+this.Make+" "+this.Model},display:"Description"}})}var r=e.module("cab9.models");r.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("MaskedNumberProviderDetail","api/maskedNumberProviderDetails",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},AccountSID:{type:String},AuthToken:{type:String,inputType:"password"},ServiceSID:{type:String},PhoneNumber:{type:String},PhoneNumberSID:{type:String}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("WebBookerDetails","",{_id:{type:String,required:!0},Name:{type:String,required:!0},TenantId:{type:String,required:!0},Template:{type:String,ref:"Template"},SecretKey:{type:String,inputType:"password"},StaffUserName:{type:String,required:!0},StaffPassword:{type:String,required:!0},DefaultClientId:{type:String,required:!0},DefaultBookerId:{type:String,required:!0},RefererUrl:{type:String,required:!0},CoverageAreas:[String],Restrictions:{type:"WebBookerRestrictions"},BrandColors:{type:"WebBookerBrandColors"},TemplateText:{type:"WebBookerTemplateText"},DefaultPickup:{type:"WebBookerStops"},ExternalScripts:{type:"WebBookerExternalScripts"},NearbyDropOffs:["WebBookerStops"],ContactInfo:["ContactInfo"]}),e.registerSchema("ContactInfo","",{Email:{type:String},PhoneNumber:{type:String},Website:{type:String}}),e.registerSchema("WebBookerStops","",{StopSummary:{type:String},Address1:{type:String},Address2:{type:String},Area:{type:String},TownCity:{type:String},Postcode:{type:String},County:{type:String},Country:{type:String},Latitude:{type:String},Longitude:{type:String}}),e.registerSchema("Template","",{Name:{type:String},TemplateUrl:{type:String}}),e.registerSchema("WebBookerRestrictions","",{Mileage:{type:Number},LeadTime:{type:Number},AllowCash:{type:Boolean},SMS:{type:Boolean},Email:{type:Boolean}}),e.registerSchema("WebBookerBrandColors","",{Primary:{type:String,required:!0},Secondary:{type:String,required:!0},Light:{type:String,required:!0},Dark:{type:String,required:!0},Grey:{type:String,required:!0}}),e.registerSchema("WebBookerTemplateText","",{CoverageAreasText:{type:String,textarea:4},MileageText:{type:String,textarea:4},LeadTimeText:{type:String,textarea:4},CashPaymentText:{type:String,textarea:4},BookingConfirmationAlertText:{type:String,textarea:4},EmailText:{type:String,textarea:4},SMSText:{type:String,textarea:4}}),e.registerSchema("WebBookerExternalScripts","",{HeaderJS:{type:String,textarea:4},BodyJS:{type:String,textarea:4},FooterJS:{type:String,textarea:4}})}var r=e.module("cab9.models");r.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("PassengerAppInvitationDetail","api/PassengerAppInvitationDetails",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String},ClientId:{type:String},PassengerId:{type:String},Firstname:{type:String},Surname:{type:String},Email:{type:String},IsSuccess:{type:Boolean},UpdateTime:{type:moment,display:"Modification Time"},Description:{type:String}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function n(e){e.registerSchema("CompanyBiddingConfig","api/CompanyBiddingConfigs",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},EnableBidding:{type:Boolean,defaultValue:!0},EnableAuctionBidding:{type:Boolean,defaultValue:!1}})}var i=e.module("cab9.models");i.config(n),n.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("DriverBid","api/DriverBids",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},BookingId:{type:String},Booking:{type:"Booking"},DriverId:{type:String},Driver:{type:"Driver"},Response:{type:String,"enum":["Dismissed","Bid"]},Amount:{type:Number},OpenedDateTime:{type:moment},ResponseDateTime:{type:moment}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("BiddingFilter","",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},ClientId:{type:String,required:!1,displayField:"Client.Name",table:{hidden:!0}},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},VehicleTypeId:{type:String,required:!1,displayField:"VehicleType.Name",table:{hidden:!0}},VehicleType:{type:"VehicleType",ref:"VehicleType",refBy:"VehicleTypeId",table:{hidden:!0}},DriverIdentifier:{type:String},MaxMileage:{type:Number},MinMileage:{type:Number},StartPeriod:{type:Number,required:!0},EndPeriod:{type:Number,required:!0},CreationTime:{type:moment,hidden:!0},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(t){function e(t){t.registerSchema("BiddingExclusionRule","api/BiddingExclusionRules",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},BiddingFilterId:{type:String},BiddingFliter:{type:"BiddingFliter"},AutoAllocationRuleId:{type:String},AutoAllocationRule:{type:"AutoAllocationRule"},DaysOfWeek:{type:Number},StartTime:{type:Number},EndTime:{type:Number},$timespan:{type:String,calculated:function(){if((0==this.StartTime||this.StartTime)&&this.EndTime){var t=moment.utc().startOf("day").add(this.StartTime,"minutes"),e=moment.utc().startOf("day").add(this.EndTime,"minutes");return t.format("HH:mm")+" - "+(1440==this.EndTime?"24:00":e.format("HH:mm"))}return""}},$startTime:{type:moment,inputType:"time",display:"Start Time",timezone:!0},$endTime:{type:moment,inputType:"time",display:"End Time",timezone:!0},CreationTime:{type:moment,hidden:!0},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}}})}var i=t.module("cab9.models");i.config(e),e.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("AutoAllocationRule","",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},ClientId:{type:String,required:!1,displayField:"Client.Name",table:{hidden:!0}},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},VehicleTypeId:{type:String,required:!1,displayField:"VehicleType.Name",table:{hidden:!0}},VehicleType:{type:"VehicleType",ref:"VehicleType",refBy:"VehicleTypeId",table:{hidden:!0}},DriverTypeId:{type:String,required:!0,displayField:"DriverType.Name",table:{hidden:!0}},DriverType:{type:"DriverType",ref:"DriverType",refBy:"DriverTypeId",table:{hidden:!0}},DriverIdentifier:{type:String},MaxMileage:{type:Number},MinMileage:{type:Number},StartPeriod:{type:Number,required:!0},EndPeriod:{type:Number,required:!0},CreationTime:{type:moment,hidden:!0},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}}})}var d=e.module("cab9.models");d.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("TelephonyCall","api/TelephonyCall",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},CallIdentifier:{type:String},StartTime:{type:moment,display:"Creation Time",table:{hidden:!0}},AnsweredTime:{type:moment,display:"Creation Time",table:{hidden:!0}},EndTime:{type:moment,display:"End Time",table:{hidden:!0}},Caller:{type:String},NumberCalled:{type:String},StaffId:{type:String,required:!0,displayField:"Staff.Name"},Staff:{type:"Staff",ref:"Staff",refBy:"StaffId",table:{hidden:!0}},BookingId:{type:String,required:!0,displayField:"Booking.LocalId"},Booking:{type:"Booking",ref:"Booking",refBy:"BookingId",table:{hidden:!0}},RecordingUrl:{type:String}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("TelephonyIntegration","api/TelephonyIntegrations",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},BookingStatus:{type:String,"enum":["Aircall"]},Endpoint:{type:String},AuthDetails1:{type:String},AuthDetails2:{type:String},AuthDetails3:{type:String},CreationTime:{type:moment,hidden:!0},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("FTPDetails","api/ftpdetails",{Id:{type:String,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Host:{type:String,required:!0},Username:{type:String,required:!0},Password:{type:String,required:!0},SFTP:{type:Boolean},FolderPath:{type:String},CreationTime:{type:moment,display:"Creation Time"},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time"}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("CancellationRule","api/CancellationRules",{Id:{type:String},TenantId:{type:String},BookingStatus:{type:String,"enum":["Incoming","PreAllocated","Allocated","OnRoute","Arrived"]},MinutesBeforePickup:{type:Number},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function n(e){e.registerSchema("FlagDownConfiguration","api/FlagDownConfigurations",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},FlagDown:{type:Boolean,defaultValue:!1},ClientId:{type:String,required:!1,displayField:"Client.Name",table:{hidden:!0}},Client:{type:"Client",ref:"Client",refBy:"ClientId",table:{hidden:!0}},ClientStaffId:{type:String,required:!1,displayField:"ClientStaff._Fullname",table:{hidden:!0}},ClientStaff:{type:"ClientStaff",ref:"ClientStaff",refBy:"ClientStaffId",table:{hidden:!0}},PassengerId:{type:String,required:!1,displayField:"Passenger._Fullname",table:{hidden:!0}},Passenger:{type:"Passenger",ref:"Passenger",refBy:"PassengerId",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(n),n.$inject=["ModelProvider"]}(angular);;;;
!function(e){function t(e){e.registerSchema("CompanyProfile","api/CompanyProfiles",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String},CompanyDescription:{type:String,textarea:6,required:!0},PrimaryContactName:{type:String,required:!0},PrimaryContactEmail:{type:String,required:!0},PricingModelName:{type:String},PrimaryContactPhone:{type:"Phone",required:!0},ServiceManagerName:{type:String,required:!0},ServiceManagerEmail:{type:String,required:!0},ServiceManagerPhone:{type:"Phone",required:!0},AccountManagerName:{type:String},AccountManagerEmail:{type:String},AccountManagerPhone:{type:"Phone"},OperatorLicenseNumber:{type:String,required:!0},LogoUrl:{type:String,required:!0},Website:{type:String,required:!0},OperatorLicenseExpiryDate:{type:moment,required:!0,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},OperatorYearEstablished:{type:Number},OperatorFinancialYear:{type:String},RejectReason:{type:String},OperatorLicensingAuthority:{type:String,required:!0},AlreadyPartner:{type:Boolean},ShowLiveDrivers:{type:Boolean},ShowLiveDriversUpdateTime:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY HH:mm'",table:{visible:!1}},PartnerRequestId:{type:String,editable:!1,hidden:!0},PartnerRequestStatus:{type:String,"enum":["Requested","Rejected","Accepted"]},RequestId:{type:String,editable:!1,hidden:!0},RequestStatus:{type:String,"enum":["Requested","Rejected","Accepted"]},OperatorAccountFillingDate:{type:moment,displayFilters:" | companyDate:'DD/MM/YYYY'",table:{visible:!1}},FacebookLink:{type:String},TwitterLink:{type:String},LinkedInLink:{type:String},PricingModelId:{type:String,required:!0,displayField:"PricingModel.Name",table:{hidden:!0}},PricingModel:{type:"PricingModel",ref:"PricingModel",refBy:"PricingModelId",table:{hidden:!0}},VehicleTypes:{type:["VehicleType"],ref:"VehicleType",refType:"OneToMany",defaultValue:[],table:{hidden:!0}},CoverageArea:{type:String,required:!0},DriversCount:{type:Number},VehiclesCount:{type:Number},BookingsCount:{type:Number},PartnerBookingsCount:{type:Number},AllowedServices:{type:String,table:{hidden:!0}},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},_ImageUrl:{type:String,hidden:!0,calculated:function(){return this.LogoUrl?"http"==this.LogoUrl.slice(0,4)?this.LogoUrl:window.resourceEndpoint+this.LogoUrl:window.endpoint+"api/imagegen?text="+(this.Name||"").replace(/ /g,"+")}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var i=e.module("cab9.models");i.config(t),t.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("Tag","api/tags",{Id:{type:String,editable:!1,hidden:!0},TenantId:{type:String,editable:!1,hidden:!0},Name:{type:String,required:!0},Description:{type:String,table:{visible:!1}},EntityType:{type:Number},Type:{type:String,"enum":["Mandatory","Preferred"]},ClientVisible:{type:Boolean,defaultValue:!1},CreationTime:{type:moment,display:"Creation Time",table:{hidden:!0}},ModificationUserId:{type:String,table:{hidden:!0}},CreationUserId:{type:String,table:{hidden:!0}},ModificationTime:{type:moment,display:"Modification Time",table:{hidden:!0}}})}var t=e.module("cab9.models");t.config(i),i.$inject=["ModelProvider"]}(angular);;;;
!function(e){function i(e){e.registerSchema("BookingTag","api/BookingTags",{Id:{type:String},BookingId:{type:String,required:!0,table:{hidden:!0}},Booking:{type:"Booking",ref:"Booking",refBy:"BookingId",table:{hidden:!0}},TagId:{type:String,required:!0,table:{hidden:!0}},Tag:{type:"Tag",ref:"Tag",refBy:"TagId",table:{hidden:!0}},Type:{type:String,"enum":["Mandatory","Preferred"]}})}var n=e.module("cab9.models");n.config(i),i.$inject=["ModelProvider"]}(angular);;;;