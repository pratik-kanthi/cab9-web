<div class="modal-header">
    <button class="close" type="button" ng-click="$dismiss()"><i class="material-icons">close</i></button>
    <h3 class="modal-title">Client Types</h3>
</div>
<div class="modal-body">
    <div class="mb20">
        <a class="btn btn-xs btn-success" ng-click="createNewClientType()" ng-if="PERMISSIONS.test('clients','W')"><i class="material-icons">person_add</i>New Client Type</a>
    </div>
    <table class="table table-hover table-condensed">
        <thead>
            <tr>
                <th style="width:30%">Name</th>
                <th style="width:40%">Description</th>
                <th style="width:25%"></th>
            </tr>
        </thead>
        <tbody>
            <tr ng-if="newClientType">
                <td>
                    <input type="text" class="form-control" ng-model="newClientType.Name" placeholder="Name" />
                </td>
                <td>
                    <textarea class="form-control" ng-model="newClientType.Description" placeholder="Description" ></textarea>
                </td>
                <td>
                    <a class="btn btn-xs btn-success" ng-click="saveClientType()"><i class="material-icons">save</i>Save</a>
                    <a class="btn btn-xs btn-warning" ng-click="cancelSave()"><i class="material-icons">undo</i>Cancel</a>
                </td>
            </tr>
            <tr ng-repeat="dt in clientTypes">
                <td>
                    <span ng-bind="dt.Name" ng-show="dt!=selected"></span>
                    <input type="text" class="form-control" ng-model="selected.Name" ng-show="dt==selected" placeholder="Name" />
                </td>
                <td>
                    <span ng-bind="dt.Description" ng-show="dt!=selected"></span>
                    <textarea class="form-control" ng-model="selected.Description" ng-show="dt==selected" placeholder="Description" ></textarea>
                </td>
                <td class="text-right">
                    <div ng-show="dt!=selected">
                        <a class="btn btn-xs btn-warning" ng-click="selectClientType(dt)" ng-if="PERMISSIONS.test('clients','W')"><i class="material-icons">create</i>Edit</a>
                        <a class="btn btn-xs btn-danger" ng-click="deleteClientType(dt)" ng-if="PERMISSIONS.test('clients','D')"><i class="material-icons">delete</i>Delete</a>
                    </div>
                    <div ng-show="dt==selected">
                        <a class="btn btn-xs btn-success" ng-click="updateClientType(dt)"><i class="material-icons">save</i>Save</a>
                        <a class="btn btn-xs btn-warning" ng-click="cancelUpdate(dt)"><i class="material-icons">undo</i>Cancel</a>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
<div class="modal-footer">
    <button class="btn btn-xs btn-warning pull-left" ng-click="$dismiss()"><i class="material-icons">undo</i>Cancel</button>
</div>
