<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title"><i class="material-icons">description</i> Invoicing and Driver Payment Settings</h3>
    </div>
    <div class="panel-body">
        <div form-for="company" schema="Company" mode="{{iDviewMode}}">
            <div class="mt10 mb10">
                <button class="btn btn-warning" ng-show="iDviewMode == 'VIEW'" ng-click="startIdEdit()" ng-if="PERMISSIONS.test('settings.company','W')"><i class="material-icons">create</i>Edit</button>
                <button class="btn btn-success mr10" ng-show="iDviewMode == 'EDIT'" ng-click="saveIdEdits()"><i class="material-icons">save</i>Save</button>
                <button class="btn btn-warning" ng-show="iDviewMode == 'EDIT'" ng-click="cancelIdEdit()"><i class="material-icons">undo</i>Cancel</button>
            </div>
            <h3 class="section-title">Default Models</h3>
            <div class="row">
                <div class="col-sm-6">
                    <div field-for="PricingModelId" select-from="pricingModels"></div>
                </div>
                <div class="col-sm-6">
                    <div field-for="DefaultDriverPaymentModelId" select-from="paymentModels" display="Default Payment Model"></div>
                </div>
            </div>
            <hr />
            <h3 class="section-title">Tax Rates</h3>
            <div class="row">
                <div class="col-sm-4">
                    <div field-for="DefaultTaxId" select-from="taxes"></div>
                </div>
                <div class="col-sm-4">
                    <div field-for="DefaultCashTaxId" select-from="taxes"></div>
                </div>
                <div class="col-sm-4">
                    <div field-for="DefaultCardTaxId" select-from="taxes"></div>
                </div>
            </div>
            <hr />
            <h3 class="section-title">Registration Details</h3>
            <div class="row">
                <div class="col-sm-6">
                    <div field-for="RegistrationNumber"></div>
                </div>
                <div class="col-sm-6">
                    <div field-for="VATNumber"></div>
                </div>
            </div>
            <hr />
            <h3 class="section-title">Invoice Details</h3>
            <div class="row">
                <div class="col-sm-6">
                    <div field-for="DefaultInvoicePaymentInstructions" display="Invoice Payment Advice"></div>
                </div>
                <div class="col-sm-6">
                    <div field-for="DefaultInvoiceDueDateOffset" display="Invoice Terms (days)"></div>
                </div>
            </div>
            <hr />
            <h3 class="section-title">Bank Details</h3>
            <div class="row">
                <div class="col-sm-6">
                    <div field-for="BankName"></div>
                </div>
                <div class="col-sm-6">
                    <div field-for="AccountNumber"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <div field-for="SortCode"></div>
                </div>
                <div class="col-sm-6">
                    <div field-for="IBAN"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-sm-6">
                    <div field-for="BIC"></div>
                </div>
                <div class="col-sm-6">
                    
                </div>
            </div>
        </div>
    </div>
</div>
<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title"><i class="material-icons">description</i> Principal Agent Settings</h3>
    </div>
    <div class="panel-body">
        <div form-for="cpSettings" schema="CompanyPaymentSettings" mode="{{cPviewMode}}">
            <div class="mt10 mb10">
                <button class="btn btn-warning" ng-show="cPviewMode == 'VIEW'" ng-click="startCpEdit()" ng-if="PERMISSIONS.test('settings.company','W')"><i class="material-icons">create</i>Edit</button>
                <button class="btn btn-success mr10" ng-show="cPviewMode == 'EDIT'" ng-click="saveCpEdits()"><i class="material-icons">save</i>Save</button>
                <button class="btn btn-warning" ng-show="cPviewMode == 'EDIT'" ng-click="cancelCpEdit()"><i class="material-icons">undo</i>Cancel</button>
            </div>
            <p class="t-s">
                <h3 class="section-title"><span>Agent or Principal</span></h3> Principal Agent Settings allows companies to choose if they are acting as a <b>Principal</b> or an <b>Agent on behalf of the driver</b>. This managed show the payments to drivers are displayed within CAB9.
                <br />
                <br /> As a taxi or private hire car business you may perform 2 different types of work. These are:
                <ul>
                    <li>
                        cash work, where individual customers pay cash to the driver on completion of the journey
                    </li>
                    <li>
                        account work, where regular customers, particularly companies and institutions, are allowed to settle their bills periodically
                    </li>
                </ul>
                <strong>If all your drivers are employees, youâ€™re a principal and must select Principal to best account for VAT.</strong>
                <br /> But, if your drivers are self-employed you may, depending on the agreements you have with them, be acting as their agent for cash work and in some cases for account work as well. Please choose the configuration best suitable to your company.
            </p>
            <div class="row mt20">
                <div class="col-sm-5">
                    <strong class="brand-primary">Account Bookings</strong>
                    <div class="row mb20">
                        <div class="col-xs-6">
                            <label class="check-container">Principal
                                <input type="radio" ng-model="cpSettings.AccountAgent" ng-value="false" ng-disabled="cPviewMode == 'VIEW'">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div class="col-xs-6">
                            <label class="check-container">Agent
                                <input type="radio" ng-model="cpSettings.AccountAgent" ng-value="true" ng-disabled="cPviewMode == 'VIEW'">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
                    <strong class="brand-primary">Card Bookings</strong>
                    <div class="row mb20">
                        <div class="col-xs-6">
                            <label class="check-container">Principal
                                <input type="radio" ng-model="cpSettings.CardAgent" ng-value="false" ng-disabled="cPviewMode == 'VIEW'">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div class="col-xs-6">
                            <label class="check-container">Agent
                                <input type="radio" ng-model="cpSettings.CardAgent" ng-value="true" ng-disabled="cPviewMode == 'VIEW'">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
                    <strong class="brand-primary">Cash Bookings</strong>
                    <div class="row">
                        <div class="col-xs-6">
                            <label class="check-container">Principal
                                <input type="radio" ng-model="cpSettings.CashAgent" ng-value="false" ng-disabled="cPviewMode == 'VIEW'">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                        <div class="col-xs-6">
                            <label class="check-container">Agent
                                <input type="radio" ng-model="cpSettings.CashAgent" ng-value="true" ng-disabled="cPviewMode == 'VIEW'">
                                <span class="checkmark"></span>
                            </label>
                        </div>
                    </div>
                </div>
                <div class="col-sm-4">
                    <div field-for="CommissionTaxId" select-from="taxes" display="Driver Commission Tax"></div>
                    <p>
                        Please choose a Tax type for your driver commissions. You could use this field to configure if you pay your drivers with or without taxes. 
                    </p>
                </div>
                <div class="col-sm-3">
                    <div field-for="InclusiveVAT" display="Inclusive VAT" ng-show="cpSettings.CommissionTaxId === tax.Id"></div>
                </div>
            </div>
        </div>
    </div>
</div>